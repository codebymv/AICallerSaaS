"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{12381:function(t,e,a){a.d(e,{z:function(){return u}});var n=a(57437),s=a(2265),r=a(94169),i=a(4613),o=a(93448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((t,e)=>{let{className:a,variant:s,size:i,asChild:u=!1,...l}=t,d=u?r.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(c({variant:s,size:i,className:a})),ref:e,...l})});u.displayName="Button"},23340:function(t,e,a){a.d(e,{pm:function(){return g}});var n=a(2265);let s=0,r=new Map,i=t=>{if(r.has(t))return;let e=setTimeout(()=>{r.delete(t),l({type:"REMOVE_TOAST",toastId:t})},0);r.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:a}=e;return a?i(a):t.toasts.forEach(t=>{i(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===a||void 0===a?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},c=[],u={toasts:[]};function l(t){u=o(u,t),c.forEach(t=>{t(u)})}function d(t){let{...e}=t,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),n=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...e,id:a,open:!0,onOpenChange:t=>{t||n()}}}),{id:a,dismiss:n,update:t=>l({type:"UPDATE_TOAST",toast:{...t,id:a}})}}function g(){let[t,e]=n.useState(u);return n.useEffect(()=>(c.push(e),()=>{let t=c.indexOf(e);t>-1&&c.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>l({type:"DISMISS_TOAST",toastId:t})}}},71837:function(t,e,a){a.d(e,{M:function(){return s},h:function(){return r}});class n{setToken(t){this.token=t,t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token")}async request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n={"Content-Type":"application/json"};this.token&&(n.Authorization="Bearer ".concat(this.token));let r=await fetch("".concat(this.baseUrl).concat(t),{...e,headers:{...n,...e.headers},signal:a});if(null==a?void 0:a.aborted)throw new s("Request was aborted by the client.","ABORT_ERROR",0);let i=await r.json();if(!r.ok){var o,c,u;throw new s((null===(o=i.error)||void 0===o?void 0:o.message)||"An error occurred",(null===(c=i.error)||void 0===c?void 0:c.code)||"UNKNOWN_ERROR",r.status,null===(u=i.error)||void 0===u?void 0:u.details)}return i}async fetchBlob(t){let e={};this.token&&(e.Authorization="Bearer ".concat(this.token));let a=await fetch("".concat(this.baseUrl).concat(t),{headers:e});if(!a.ok){var n,r;let t=await a.json().catch(()=>({}));throw new s((null===(n=t.error)||void 0===n?void 0:n.message)||"Failed to fetch resource",(null===(r=t.error)||void 0===r?void 0:r.code)||"FETCH_ERROR",a.status)}return a.blob()}async login(t,e){var a;let n=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})});return(null===(a=n.data)||void 0===a?void 0:a.token)&&this.setToken(n.data.token),n}async register(t,e,a){var n;let s=await this.request("/api/auth/register",{method:"POST",body:JSON.stringify({email:t,password:e,name:a})});return(null===(n=s.data)||void 0===n?void 0:n.token)&&this.setToken(s.data.token),s}async getMe(){return this.request("/api/auth/me")}logout(){this.setToken(null)}async getAgents(){return this.request("/api/agents")}async getAgent(t){return this.request("/api/agents/".concat(t))}async createAgent(t){return this.request("/api/agents",{method:"POST",body:JSON.stringify(t)})}async updateAgent(t,e){return this.request("/api/agents/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteAgent(t){return this.request("/api/agents/".concat(t),{method:"DELETE"})}async testAgent(t,e){return this.request("/api/agents/".concat(t,"/test"),{method:"POST",body:JSON.stringify({testMessage:e})})}async makeOutboundCall(t,e){return this.request("/api/agents/".concat(t,"/call"),{method:"POST",body:JSON.stringify({phoneNumber:e})})}async sendMessage(t,e,a,n,s){return this.request("/api/agents/".concat(t,"/message"),{method:"POST",body:JSON.stringify({phoneNumber:e,message:a,mediaUrls:n,assetIds:s})})}async getAssets(t){let e=new URLSearchParams;(null==t?void 0:t.category)&&e.set("category",t.category),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId);let a=e.toString();return this.request("/api/assets".concat(a?"?".concat(a):""))}async getAsset(t){return this.request("/api/assets/".concat(t))}async createAsset(t){return this.request("/api/assets",{method:"POST",body:JSON.stringify(t)})}async updateAsset(t,e){return this.request("/api/assets/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteAsset(t){return this.request("/api/assets/".concat(t),{method:"DELETE"})}async getAssetStats(){return this.request("/api/assets/categories/stats")}async getCalls(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate);let a=e.toString();return this.request("/api/calls".concat(a?"?".concat(a):""))}async getCall(t){return this.request("/api/calls/".concat(t))}async initiateCall(t){return this.request("/api/calls",{method:"POST",body:JSON.stringify(t)})}async endCall(t){return this.request("/api/calls/".concat(t,"/end"),{method:"POST"})}async getCallAnalytics(t){let e=new URLSearchParams;(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId);let a=e.toString();return this.request("/api/calls/analytics/summary".concat(a?"?".concat(a):""))}async getCallTimeSeries(t){return this.request("/api/calls/analytics/timeseries".concat(t?"?days=".concat(t):""))}async getConversations(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.search)&&e.set("search",t.search),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.messageCount)&&e.set("messageCount",t.messageCount),(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate);let a=e.toString();return this.request("/api/messages/conversations".concat(a?"?".concat(a):""))}async getConversation(t,e){let a=new URLSearchParams;(null==e?void 0:e.page)&&a.set("page",e.page.toString()),(null==e?void 0:e.limit)&&a.set("limit",e.limit.toString());let n=a.toString();return this.request("/api/messages/conversations/".concat(t).concat(n?"?".concat(n):""))}async getMessages(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.direction)&&e.set("direction",t.direction),(null==t?void 0:t.type)&&e.set("type",t.type);let a=e.toString();return this.request("/api/messages".concat(a?"?".concat(a):""))}async getMessage(t){return this.request("/api/messages/".concat(t))}async getMessagingAnalytics(t){let e=(null==t?void 0:t.days)?"?days=".concat(t.days):"";return this.request("/api/messages/analytics/summary".concat(e))}async getContacts(t){let e=new URLSearchParams;(null==t?void 0:t.search)&&e.set("search",t.search),(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString());let a=e.toString();return this.request("/api/contacts".concat(a?"?".concat(a):""))}async getContact(t){return this.request("/api/contacts/".concat(t))}async getContactByPhone(t){return this.request("/api/contacts/by-phone/".concat(encodeURIComponent(t)))}async getContactsBatch(t){return this.request("/api/contacts/batch",{method:"POST",body:JSON.stringify({phoneNumbers:t})})}async createContact(t){return this.request("/api/contacts",{method:"POST",body:JSON.stringify(t)})}async updateContact(t,e){return this.request("/api/contacts/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteContact(t){return this.request("/api/contacts/".concat(t),{method:"DELETE"})}async getPhoneNumbers(){return this.request("/api/phone-numbers")}async purchasePhoneNumber(t,e){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify({areaCode:t,defaultAgentId:e})})}async updatePhoneNumber(t,e){return this.request("/api/phone-numbers/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deletePhoneNumber(t){return this.request("/api/phone-numbers/".concat(t),{method:"DELETE"})}async getTwilioPhoneNumbers(){return this.request("/api/phone-numbers/twilio")}async addPhoneNumber(t){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify(t)})}async getTwilioSettings(){return this.request("/api/settings/twilio")}async updateTwilioSettings(t,e,a){return this.request("/api/settings/twilio",{method:"PUT",body:JSON.stringify({accountSid:t,authToken:e,messagingServiceSid:a})})}async deleteTwilioSettings(){return this.request("/api/settings/twilio",{method:"DELETE"})}async testTwilioConnection(){return this.request("/api/settings/twilio/test",{method:"POST"})}async getBusinessProfile(){return this.request("/api/settings/business-profile")}async getStorageStatus(){return this.request("/api/settings/storage")}async updateBusinessProfile(t){return this.request("/api/settings/business-profile",{method:"PUT",body:JSON.stringify(t)})}async getCalendarStatus(){return this.request("/api/calendar/status")}async connectCalendly(t){return this.request("/api/calendar/calendly/connect",{method:"POST",body:JSON.stringify({personalAccessToken:t})})}async getCalendarEventTypes(){return this.request("/api/calendar/event-types")}async updateCalendarEventType(t,e){return this.request("/api/calendar/event-type",{method:"PUT",body:JSON.stringify({eventTypeUri:t,eventTypeName:e})})}async connectCalcom(t){return this.request("/api/calendar/calcom/connect",{method:"POST",body:JSON.stringify({apiKey:t})})}async getGoogleCalendarAuthUrl(){return this.request("/api/auth/google/calendar",{method:"GET"})}async disconnectGoogleCalendar(){return this.request("/api/auth/google/disconnect",{method:"POST"})}async getCalcomEventTypes(){return this.request("/api/calendar/calcom/event-types")}async updateCalcomEventType(t,e,a){return this.request("/api/calendar/calcom/event-type",{method:"PUT",body:JSON.stringify({eventTypeId:t,eventTypeSlug:e,eventTypeName:a})})}async getCalcomAvailability(t){return this.request("/api/calendar/calcom/availability?date=".concat(t))}async testCalendarConnection(){return this.request("/api/calendar/test",{method:"POST"})}async getCalendarAvailability(t){return this.request("/api/calendar/availability?date=".concat(t))}async disconnectCalendar(t){return this.request(t?"/api/calendar/disconnect?provider=".concat(t):"/api/calendar/disconnect",{method:"DELETE"})}async getCampaigns(t){let e=new URLSearchParams(t).toString();return this.request("/api/campaigns?".concat(e))}async getCampaign(t,e){return this.request("/api/campaigns/".concat(t),{},e)}async createCampaign(t){return this.request("/api/campaigns",{method:"POST",body:JSON.stringify(t)})}async updateCampaign(t,e){return this.request("/api/campaigns/".concat(t),{method:"PATCH",body:JSON.stringify(e)})}async deleteCampaign(t){return this.request("/api/campaigns/".concat(t),{method:"DELETE"})}async startCampaign(t){return this.request("/api/campaigns/".concat(t,"/start"),{method:"POST"})}async pauseCampaign(t){return this.request("/api/campaigns/".concat(t,"/pause"),{method:"POST"})}async cancelCampaign(t){return this.request("/api/campaigns/".concat(t,"/cancel"),{method:"POST"})}async addCampaignLeads(t,e){return this.request("/api/campaigns/".concat(t,"/leads"),{method:"POST",body:JSON.stringify(e)})}async uploadCampaignLeadsCSV(t,e){return this.request("/api/campaigns/".concat(t,"/leads/upload"),{method:"POST",body:JSON.stringify({csvData:e})})}async getCampaignLeads(t,e,a){let n=new URLSearchParams(e).toString();return this.request("/api/campaigns/".concat(t,"/leads?").concat(n),{},a)}async updateCampaignLead(t,e,a){return this.request("/api/campaigns/".concat(t,"/leads/").concat(e),{method:"PATCH",body:JSON.stringify(a)})}async deleteCampaignLead(t,e){return this.request("/api/campaigns/".concat(t,"/leads/").concat(e),{method:"DELETE"})}async getCampaignStats(t){return this.request("/api/campaigns/".concat(t,"/stats"))}async convertLeadToContact(t,e){return this.request("/api/campaigns/".concat(t,"/leads/").concat(e,"/convert-to-contact"),{method:"POST"})}async convertSuccessfulLeadsToContacts(t){return this.request("/api/campaigns/".concat(t,"/convert-successful-leads"),{method:"POST"})}constructor(t){this.token=null,this.baseUrl=t,this.token=localStorage.getItem("auth_token")}}class s extends Error{constructor(t,e,a,n){super(t),this.name="ApiError",this.code=e,this.status=a,this.details=n}}let r=new n("http://localhost:3001")},93448:function(t,e,a){a.d(e,{LU:function(){return i},SY:function(){return l},cn:function(){return r},p6:function(){return u},un:function(){return o},xG:function(){return c}});var n=a(16532),s=a(53335);function r(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];return(0,s.m6)((0,n.W)(e))}function i(t){return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"))}function o(t){let e=t.replace(/\D/g,"");return 11===e.length&&e.startsWith("1")?"+1 (".concat(e.slice(1,4),") ").concat(e.slice(4,7),"-").concat(e.slice(7)):10===e.length?"(".concat(e.slice(0,3),") ").concat(e.slice(3,6),"-").concat(e.slice(6)):t}function c(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function u(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(t))}function l(t){let e=new Date,a=new Date(t),n=Math.floor(Math.floor((e.getTime()-a.getTime())/1e3)/60),s=Math.floor(n/60),r=Math.floor(s/24);return r>0?"".concat(r,"d ago"):s>0?"".concat(s,"h ago"):n>0?"".concat(n,"m ago"):"Just now"}}}]);