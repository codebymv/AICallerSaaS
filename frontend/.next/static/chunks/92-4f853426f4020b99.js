"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[92],{12381:function(t,e,n){n.d(e,{z:function(){return u}});var s=n(57437),a=n(2265),r=n(94169),i=n(4613),o=n(93448);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((t,e)=>{let{className:n,variant:a,size:i,asChild:u=!1,...l}=t,d=u?r.g7:"button";return(0,s.jsx)(d,{className:(0,o.cn)(c({variant:a,size:i,className:n})),ref:e,...l})});u.displayName="Button"},23340:function(t,e,n){n.d(e,{pm:function(){return g}});var s=n(2265);let a=0,r=new Map,i=t=>{if(r.has(t))return;let e=setTimeout(()=>{r.delete(t),l({type:"REMOVE_TOAST",toastId:t})},1e6);r.set(t,e)},o=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?i(n):t.toasts.forEach(t=>{i(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===n||void 0===n?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},c=[],u={toasts:[]};function l(t){u=o(u,t),c.forEach(t=>{t(u)})}function d(t){let{...e}=t,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>l({type:"DISMISS_TOAST",toastId:n});return l({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:t=>{t||s()}}}),{id:n,dismiss:s,update:t=>l({type:"UPDATE_TOAST",toast:{...t,id:n}})}}function g(){let[t,e]=s.useState(u);return s.useEffect(()=>(c.push(e),()=>{let t=c.indexOf(e);t>-1&&c.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>l({type:"DISMISS_TOAST",toastId:t})}}},71837:function(t,e,n){n.d(e,{M:function(){return a},h:function(){return r}});class s{setToken(t){this.token=t,t?localStorage.setItem("auth_token",t):localStorage.removeItem("auth_token")}async request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json"};this.token&&(n.Authorization="Bearer ".concat(this.token));let s=await fetch("".concat(this.baseUrl).concat(t),{...e,headers:{...n,...e.headers}}),r=await s.json();if(!s.ok){var i,o,c;throw new a((null===(i=r.error)||void 0===i?void 0:i.message)||"An error occurred",(null===(o=r.error)||void 0===o?void 0:o.code)||"UNKNOWN_ERROR",s.status,null===(c=r.error)||void 0===c?void 0:c.details)}return r}async login(t,e){var n;let s=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:t,password:e})});return(null===(n=s.data)||void 0===n?void 0:n.token)&&this.setToken(s.data.token),s}async register(t,e,n){var s;let a=await this.request("/api/auth/register",{method:"POST",body:JSON.stringify({email:t,password:e,name:n})});return(null===(s=a.data)||void 0===s?void 0:s.token)&&this.setToken(a.data.token),a}async getMe(){return this.request("/api/auth/me")}logout(){this.setToken(null)}async getAgents(){return this.request("/api/agents")}async getAgent(t){return this.request("/api/agents/".concat(t))}async createAgent(t){return this.request("/api/agents",{method:"POST",body:JSON.stringify(t)})}async updateAgent(t,e){return this.request("/api/agents/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteAgent(t){return this.request("/api/agents/".concat(t),{method:"DELETE"})}async testAgent(t,e){return this.request("/api/agents/".concat(t,"/test"),{method:"POST",body:JSON.stringify({testMessage:e})})}async makeOutboundCall(t,e){return this.request("/api/agents/".concat(t,"/call"),{method:"POST",body:JSON.stringify({phoneNumber:e})})}async sendMessage(t,e,n,s,a){return this.request("/api/agents/".concat(t,"/message"),{method:"POST",body:JSON.stringify({phoneNumber:e,message:n,mediaUrls:s,assetIds:a})})}async getAssets(t){let e=new URLSearchParams;(null==t?void 0:t.category)&&e.set("category",t.category),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId);let n=e.toString();return this.request("/api/assets".concat(n?"?".concat(n):""))}async getAsset(t){return this.request("/api/assets/".concat(t))}async createAsset(t){return this.request("/api/assets",{method:"POST",body:JSON.stringify(t)})}async updateAsset(t,e){return this.request("/api/assets/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteAsset(t){return this.request("/api/assets/".concat(t),{method:"DELETE"})}async getAssetStats(){return this.request("/api/assets/categories/stats")}async getCalls(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate);let n=e.toString();return this.request("/api/calls".concat(n?"?".concat(n):""))}async getCall(t){return this.request("/api/calls/".concat(t))}async initiateCall(t){return this.request("/api/calls",{method:"POST",body:JSON.stringify(t)})}async endCall(t){return this.request("/api/calls/".concat(t,"/end"),{method:"POST"})}async getCallAnalytics(t){let e=new URLSearchParams;(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId);let n=e.toString();return this.request("/api/calls/analytics/summary".concat(n?"?".concat(n):""))}async getCallTimeSeries(t){return this.request("/api/calls/analytics/timeseries".concat(t?"?days=".concat(t):""))}async getConversations(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.search)&&e.set("search",t.search),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.messageCount)&&e.set("messageCount",t.messageCount),(null==t?void 0:t.startDate)&&e.set("startDate",t.startDate),(null==t?void 0:t.endDate)&&e.set("endDate",t.endDate);let n=e.toString();return this.request("/api/messages/conversations".concat(n?"?".concat(n):""))}async getConversation(t,e){let n=new URLSearchParams;(null==e?void 0:e.page)&&n.set("page",e.page.toString()),(null==e?void 0:e.limit)&&n.set("limit",e.limit.toString());let s=n.toString();return this.request("/api/messages/conversations/".concat(t).concat(s?"?".concat(s):""))}async getMessages(t){let e=new URLSearchParams;(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString()),(null==t?void 0:t.agentId)&&e.set("agentId",t.agentId),(null==t?void 0:t.status)&&e.set("status",t.status),(null==t?void 0:t.direction)&&e.set("direction",t.direction),(null==t?void 0:t.type)&&e.set("type",t.type);let n=e.toString();return this.request("/api/messages".concat(n?"?".concat(n):""))}async getMessage(t){return this.request("/api/messages/".concat(t))}async getMessagingAnalytics(t){let e=(null==t?void 0:t.days)?"?days=".concat(t.days):"";return this.request("/api/messages/analytics/summary".concat(e))}async getContacts(t){let e=new URLSearchParams;(null==t?void 0:t.search)&&e.set("search",t.search),(null==t?void 0:t.page)&&e.set("page",t.page.toString()),(null==t?void 0:t.limit)&&e.set("limit",t.limit.toString());let n=e.toString();return this.request("/api/contacts".concat(n?"?".concat(n):""))}async getContact(t){return this.request("/api/contacts/".concat(t))}async getContactByPhone(t){return this.request("/api/contacts/by-phone/".concat(encodeURIComponent(t)))}async getContactsBatch(t){return this.request("/api/contacts/batch",{method:"POST",body:JSON.stringify({phoneNumbers:t})})}async createContact(t){return this.request("/api/contacts",{method:"POST",body:JSON.stringify(t)})}async updateContact(t,e){return this.request("/api/contacts/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deleteContact(t){return this.request("/api/contacts/".concat(t),{method:"DELETE"})}async getPhoneNumbers(){return this.request("/api/phone-numbers")}async purchasePhoneNumber(t,e){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify({areaCode:t,defaultAgentId:e})})}async updatePhoneNumber(t,e){return this.request("/api/phone-numbers/".concat(t),{method:"PUT",body:JSON.stringify(e)})}async deletePhoneNumber(t){return this.request("/api/phone-numbers/".concat(t),{method:"DELETE"})}async getTwilioPhoneNumbers(){return this.request("/api/phone-numbers/twilio")}async addPhoneNumber(t){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify(t)})}async getTwilioSettings(){return this.request("/api/settings/twilio")}async updateTwilioSettings(t,e,n){return this.request("/api/settings/twilio",{method:"PUT",body:JSON.stringify({accountSid:t,authToken:e,messagingServiceSid:n})})}async deleteTwilioSettings(){return this.request("/api/settings/twilio",{method:"DELETE"})}async testTwilioConnection(){return this.request("/api/settings/twilio/test",{method:"POST"})}async getBusinessProfile(){return this.request("/api/settings/business-profile")}async updateBusinessProfile(t){return this.request("/api/settings/business-profile",{method:"PUT",body:JSON.stringify(t)})}async getCalendarStatus(){return this.request("/api/calendar/status")}async connectCalendly(t){return this.request("/api/calendar/calendly/connect",{method:"POST",body:JSON.stringify({personalAccessToken:t})})}async getCalendarEventTypes(){return this.request("/api/calendar/event-types")}async updateCalendarEventType(t,e){return this.request("/api/calendar/event-type",{method:"PUT",body:JSON.stringify({eventTypeUri:t,eventTypeName:e})})}async connectCalcom(t){return this.request("/api/calendar/calcom/connect",{method:"POST",body:JSON.stringify({apiKey:t})})}async getGoogleCalendarAuthUrl(){return this.request("/api/auth/google/calendar",{method:"GET"})}async disconnectGoogleCalendar(){return this.request("/api/auth/google/disconnect",{method:"POST"})}async getCalcomEventTypes(){return this.request("/api/calendar/calcom/event-types")}async updateCalcomEventType(t,e,n){return this.request("/api/calendar/calcom/event-type",{method:"PUT",body:JSON.stringify({eventTypeId:t,eventTypeSlug:e,eventTypeName:n})})}async getCalcomAvailability(t){return this.request("/api/calendar/calcom/availability?date=".concat(t))}async testCalendarConnection(){return this.request("/api/calendar/test",{method:"POST"})}async getCalendarAvailability(t){return this.request("/api/calendar/availability?date=".concat(t))}async disconnectCalendar(t){return this.request(t?"/api/calendar/disconnect?provider=".concat(t):"/api/calendar/disconnect",{method:"DELETE"})}constructor(t){this.token=null,this.baseUrl=t,this.token=localStorage.getItem("auth_token")}}class a extends Error{constructor(t,e,n,s){super(t),this.name="ApiError",this.code=e,this.status=n,this.details=s}}let r=new s("http://localhost:3001")},93448:function(t,e,n){n.d(e,{LU:function(){return i},SY:function(){return l},cn:function(){return r},p6:function(){return u},un:function(){return o},xG:function(){return c}});var s=n(16532),a=n(53335);function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.m6)((0,s.W)(e))}function i(t){return"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0"))}function o(t){let e=t.replace(/\D/g,"");return 11===e.length&&e.startsWith("1")?"+1 (".concat(e.slice(1,4),") ").concat(e.slice(4,7),"-").concat(e.slice(7)):10===e.length?"(".concat(e.slice(0,3),") ").concat(e.slice(3,6),"-").concat(e.slice(6)):t}function c(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}function u(t){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(t))}function l(t){let e=new Date,n=new Date(t),s=Math.floor(Math.floor((e.getTime()-n.getTime())/1e3)/60),a=Math.floor(s/60),r=Math.floor(a/24);return r>0?"".concat(r,"d ago"):a>0?"".concat(a,"h ago"):s>0?"".concat(s,"m ago"):"Just now"}}}]);