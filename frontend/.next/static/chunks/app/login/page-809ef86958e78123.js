(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{3256:function(e,t,n){Promise.resolve().then(n.bind(n,8991))},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},8991:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),a=n(2265),s=n(3145),i=n(9376),o=n(7648),l=n(2381),c=n(279),u=n(9820),d=n(1837),f=n(3340);function h(){let e=(0,i.useRouter)(),{toast:t}=(0,f.pm)(),[n,h]=(0,a.useState)(""),[m,p]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),b=async r=>{r.preventDefault(),y(!0);try{await d.h.login(n,m),t({title:"Welcome back!",description:"You have been logged in successfully."}),e.push("/dashboard")}catch(e){t({title:"Login failed",description:e instanceof d.M?e.message:"An error occurred during login",variant:"destructive"})}finally{y(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 px-4",children:(0,r.jsxs)(u.Zb,{className:"w-full max-w-md",children:[(0,r.jsxs)(u.Ol,{className:"text-center p-0",children:[(0,r.jsxs)("div",{className:"mb-4 flex justify-center items-center bg-teal-600 rounded-t-md py-6",children:[(0,r.jsx)(s.default,{src:"/logo-icon-transparent-inverted.png",alt:"Gleam Icon",width:32,height:32,priority:!0,className:"h-8 w-8 mr-3"}),(0,r.jsx)(s.default,{src:"/gleam-logo-text-inverted.png",alt:"Gleam",width:150,height:50,priority:!0,className:"h-10 w-auto"})]}),(0,r.jsx)(u.ll,{className:"text-2xl text-muted-foreground",children:"Welcome back"}),(0,r.jsx)(u.SZ,{children:"Sign in to your Gleam account"})]}),(0,r.jsxs)("form",{onSubmit:b,children:[(0,r.jsxs)(u.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-muted-foreground",children:"Email"}),(0,r.jsx)(c.I,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:e=>h(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-muted-foreground",children:"Password"}),(0,r.jsx)(c.I,{id:"password",type:"password",placeholder:"••••••••",value:m,onChange:e=>p(e.target.value),required:!0})]})]}),(0,r.jsxs)(u.eW,{className:"flex flex-col gap-4",children:[(0,r.jsx)(l.z,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700 text-white",disabled:g,children:g?"Signing in...":"Sign In"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground text-center",children:["Don't have an account?"," ",(0,r.jsx)(o.default,{href:"/register",className:"text-teal-600 hover:underline",children:"Sign up"})]})]})]})]})})}},2381:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(7437),a=n(2265),s=n(4169),i=n(4613),o=n(3448);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:c=!1,...u}=e,d=c?s.g7:"button";return(0,r.jsx)(d,{className:(0,o.cn)(l({variant:a,size:i,className:n})),ref:t,...u})});c.displayName="Button"},9820:function(e,t,n){"use strict";n.d(t,{Ol:function(){return o},SZ:function(){return c},Zb:function(){return i},aY:function(){return u},eW:function(){return d},ll:function(){return l}});var r=n(7437),a=n(2265),s=n(3448);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});o.displayName="CardHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});l.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});c.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});u.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});d.displayName="CardFooter"},279:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(7437),a=n(2265),s=n(3448);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},3340:function(e,t,n){"use strict";n.d(t,{pm:function(){return f}});var r=n(2265);let a=0,s=new Map,i=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?i(n):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],c={toasts:[]};function u(e){c=o(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:n});return u({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:n}})}}function f(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},1837:function(e,t,n){"use strict";n.d(t,{M:function(){return a},h:function(){return s}});class r{setToken(e){this.token=e,e?localStorage.setItem("auth_token",e):localStorage.removeItem("auth_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json"};this.token&&(n.Authorization="Bearer ".concat(this.token));let r=await fetch("".concat(this.baseUrl).concat(e),{...t,headers:{...n,...t.headers}}),s=await r.json();if(!r.ok){var i,o,l;throw new a((null===(i=s.error)||void 0===i?void 0:i.message)||"An error occurred",(null===(o=s.error)||void 0===o?void 0:o.code)||"UNKNOWN_ERROR",r.status,null===(l=s.error)||void 0===l?void 0:l.details)}return s}async login(e,t){var n;let r=await this.request("/api/auth/login",{method:"POST",body:JSON.stringify({email:e,password:t})});return(null===(n=r.data)||void 0===n?void 0:n.token)&&this.setToken(r.data.token),r}async register(e,t,n){var r;let a=await this.request("/api/auth/register",{method:"POST",body:JSON.stringify({email:e,password:t,name:n})});return(null===(r=a.data)||void 0===r?void 0:r.token)&&this.setToken(a.data.token),a}async getMe(){return this.request("/api/auth/me")}logout(){this.setToken(null)}async getAgents(){return this.request("/api/agents")}async getAgent(e){return this.request("/api/agents/".concat(e))}async createAgent(e){return this.request("/api/agents",{method:"POST",body:JSON.stringify(e)})}async updateAgent(e,t){return this.request("/api/agents/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteAgent(e){return this.request("/api/agents/".concat(e),{method:"DELETE"})}async testAgent(e,t){return this.request("/api/agents/".concat(e,"/test"),{method:"POST",body:JSON.stringify({testMessage:t})})}async makeOutboundCall(e,t){return this.request("/api/agents/".concat(e,"/call"),{method:"POST",body:JSON.stringify({phoneNumber:t})})}async getCalls(e){let t=new URLSearchParams;(null==e?void 0:e.page)&&t.set("page",e.page.toString()),(null==e?void 0:e.limit)&&t.set("limit",e.limit.toString()),(null==e?void 0:e.agentId)&&t.set("agentId",e.agentId),(null==e?void 0:e.status)&&t.set("status",e.status),(null==e?void 0:e.startDate)&&t.set("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.set("endDate",e.endDate);let n=t.toString();return this.request("/api/calls".concat(n?"?".concat(n):""))}async getCall(e){return this.request("/api/calls/".concat(e))}async initiateCall(e){return this.request("/api/calls",{method:"POST",body:JSON.stringify(e)})}async endCall(e){return this.request("/api/calls/".concat(e,"/end"),{method:"POST"})}async getCallAnalytics(e){let t=new URLSearchParams;(null==e?void 0:e.startDate)&&t.set("startDate",e.startDate),(null==e?void 0:e.endDate)&&t.set("endDate",e.endDate),(null==e?void 0:e.agentId)&&t.set("agentId",e.agentId);let n=t.toString();return this.request("/api/calls/analytics/summary".concat(n?"?".concat(n):""))}async getPhoneNumbers(){return this.request("/api/phone-numbers")}async purchasePhoneNumber(e,t){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify({areaCode:e,defaultAgentId:t})})}async updatePhoneNumber(e,t){return this.request("/api/phone-numbers/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deletePhoneNumber(e){return this.request("/api/phone-numbers/".concat(e),{method:"DELETE"})}async getTwilioPhoneNumbers(){return this.request("/api/phone-numbers/twilio")}async addPhoneNumber(e){return this.request("/api/phone-numbers",{method:"POST",body:JSON.stringify(e)})}async getTwilioSettings(){return this.request("/api/settings/twilio")}async updateTwilioSettings(e,t){return this.request("/api/settings/twilio",{method:"PUT",body:JSON.stringify({accountSid:e,authToken:t})})}async deleteTwilioSettings(){return this.request("/api/settings/twilio",{method:"DELETE"})}async testTwilioConnection(){return this.request("/api/settings/twilio/test",{method:"POST"})}async getBusinessProfile(){return this.request("/api/settings/business-profile")}async updateBusinessProfile(e){return this.request("/api/settings/business-profile",{method:"PUT",body:JSON.stringify(e)})}async getCalendarStatus(){return this.request("/api/calendar/status")}async connectCalendly(e){return this.request("/api/calendar/calendly/connect",{method:"POST",body:JSON.stringify({personalAccessToken:e})})}async getCalendarEventTypes(){return this.request("/api/calendar/event-types")}async updateCalendarEventType(e,t){return this.request("/api/calendar/event-type",{method:"PUT",body:JSON.stringify({eventTypeUri:e,eventTypeName:t})})}async connectCalcom(e){return this.request("/api/calendar/calcom/connect",{method:"POST",body:JSON.stringify({apiKey:e})})}async getCalcomEventTypes(){return this.request("/api/calendar/calcom/event-types")}async updateCalcomEventType(e,t,n){return this.request("/api/calendar/calcom/event-type",{method:"PUT",body:JSON.stringify({eventTypeId:e,eventTypeSlug:t,eventTypeName:n})})}async getCalcomAvailability(e){return this.request("/api/calendar/calcom/availability?date=".concat(e))}async testCalendarConnection(){return this.request("/api/calendar/test",{method:"POST"})}async getCalendarAvailability(e){return this.request("/api/calendar/availability?date=".concat(e))}async disconnectCalendar(){return this.request("/api/calendar/disconnect",{method:"DELETE"})}constructor(e){this.token=null,this.baseUrl=e,this.token=localStorage.getItem("auth_token")}}class a extends Error{constructor(e,t,n,r){super(e),this.name="ApiError",this.code=t,this.status=n,this.details=r}}let s=new r("https://refactored-parakeet-wr9gv64rj99gh754-3001.app.github.dev")},3448:function(e,t,n){"use strict";n.d(t,{LU:function(){return i},SY:function(){return u},cn:function(){return s},p6:function(){return c},un:function(){return o},xG:function(){return l}});var r=n(6532),a=n(3335);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}function i(e){return"".concat(Math.floor(e/60),":").concat((e%60).toString().padStart(2,"0"))}function o(e){let t=e.replace(/\D/g,"");return 11===t.length&&t.startsWith("1")?"+1 (".concat(t.slice(1,4),") ").concat(t.slice(4,7),"-").concat(t.slice(7)):10===t.length?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):e}function l(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}function c(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e))}function u(e){let t=new Date,n=new Date(e),r=Math.floor(Math.floor((t.getTime()-n.getTime())/1e3)/60),a=Math.floor(r/60),s=Math.floor(a/24);return s>0?"".concat(s,"d ago"):a>0?"".concat(a,"h ago"):r>0?"".concat(r,"m ago"):"Just now"}},4169:function(e,t,n){"use strict";n.d(t,{g7:function(){return u}});var r,a=n(2265),s=n(6923),i=n(7437),o=Symbol.for("react.lazy"),l=(r||(r=n.t(a,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===o&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var u=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(c(n)&&"function"==typeof l&&(n=l(n._payload)),a.isValidElement(n)){var i;let e,o;let l=(i=n,(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref),c=function(e,t){let n={...t};for(let r in t){let a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...e)=>{let t=s(...e);return a(...e),t}:a&&(n[r]=a):"style"===r?n[r]={...a,...s}:"className"===r&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(c.ref=t?(0,s.F)(t,l):l),a.cloneElement(n,c)}return a.Children.count(n)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),n=a.forwardRef((e,n)=>{let{children:r,...s}=e;c(r)&&"function"==typeof l&&(r=l(r._payload));let o=a.Children.toArray(r),u=o.find(f);if(u){let e=u.props.children,r=o.map(t=>t!==u?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,i.jsx)(t,{...s,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}("Slot"),d=Symbol("radix.slottable");function f(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}}},function(e){e.O(0,[225,145,648,971,117,744],function(){return e(e.s=3256)}),_N_E=e.O()}]);