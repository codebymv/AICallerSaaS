(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{8922:function(e,t,s){Promise.resolve().then(s.bind(s,5877))},9205:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var l=s(2265);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,l.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,iconNode:u,...x}=e;return(0,l.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:c?24*Number(i)/Number(a):i,className:r("lucide",d),...x},[...u.map(e=>{let[t,s]=e;return(0,l.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),c=(e,t)=>{let s=(0,l.forwardRef)((s,n)=>{let{className:c,...d}=s;return(0,l.createElement)(i,{ref:n,iconNode:t,className:r("lucide-".concat(a(e)),c),...d})});return s.displayName="".concat(e),s}},1866:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},8428:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},6858:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},7580:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},6221:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},2222:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},1817:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3041:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});let l=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5877:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var l=s(7437),a=s(2265),r=s(7648),n=s(3145),i=s(1866),c=s(7580),d=s(8428),o=s(1817),u=s(6221),x=s(9397),h=s(3041),m=s(2222),f=s(9205);let p=(0,f.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),j=(0,f.Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);var g=s(6858),y=s(2369),v=s(9820),N=s(2381),w=s(1837),b=s(3448),k=s(8705);let Z=e=>{switch(e){case"INBOUND":return(0,l.jsx)(i.Z,{className:"h-3.5 w-3.5 text-teal-600"});case"OUTBOUND":return(0,l.jsx)(c.Z,{className:"h-3.5 w-3.5 text-teal-600"});case"HYBRID":return(0,l.jsx)(d.Z,{className:"h-3.5 w-3.5 text-teal-600"});default:return null}};function C(){let[e,t]=(0,a.useState)(null),[s,d]=(0,a.useState)([]),[f,C]=(0,a.useState)([]),[z,_]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let[e,s,l]=await Promise.all([w.h.getCallAnalytics(),w.h.getAgents(),w.h.getCalls({limit:5})]);t(e.data),d(s.data||[]),C(l.data||[])}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{_(!1)}})()},[]),z)?(0,l.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,l.jsx)(o.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,l.jsx)(u.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-600"}),(0,l.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-600",children:"Dashboard"}),(0,l.jsx)("span",{className:"hidden sm:inline text-slate-400",children:"â€¢"}),(0,l.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base w-full sm:w-auto",children:"Overview of your agent activity"})]}),(0,l.jsx)(r.default,{href:"/dashboard/agents/new",className:"w-full sm:w-auto",children:(0,l.jsxs)(N.z,{className:"w-full sm:w-auto bg-teal-600 hover:bg-teal-700",children:[(0,l.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"New Agent"]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,l.jsx)(A,{title:"Total Calls",value:(null==e?void 0:e.totalCalls)||0,icon:(0,l.jsx)(h.Z,{className:"h-5 w-5"}),description:"All time"}),(0,l.jsx)(A,{title:"Active Agents",value:s.length,icon:(0,l.jsx)(m.Z,{className:"h-5 w-5"}),description:"Configured"}),(0,l.jsx)(A,{title:"Total Duration",value:(0,b.LU)((null==e?void 0:e.totalDuration)||0),icon:(0,l.jsx)(p,{className:"h-5 w-5"}),description:"Minutes used"}),(0,l.jsx)(A,{title:"Total Cost",value:(0,b.xG)((null==e?void 0:e.totalCost)||0),icon:(0,l.jsx)(j,{className:"h-5 w-5"}),description:"This period"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)(v.Zb,{children:[(0,l.jsxs)(v.Ol,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsx)(v.ll,{className:"text-slate-600",children:"Your Agents"})}),(0,l.jsx)(r.default,{href:"/dashboard/agents",children:(0,l.jsxs)(N.z,{variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:["View all ",(0,l.jsx)(g.Z,{className:"h-4 w-4 ml-1"})]})})]}),(0,l.jsx)(v.aY,{children:0===s.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(m.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,l.jsx)("p",{className:"text-muted-foreground mb-4",children:"No agents yet"}),(0,l.jsx)(r.default,{href:"/dashboard/agents/new",children:(0,l.jsx)(N.z,{size:"sm",className:"bg-teal-600 hover:bg-teal-700",children:"Create your first agent"})})]}):(0,l.jsx)("div",{className:"space-y-3",children:s.slice(0,3).map(e=>{var t,s;return(0,l.jsx)(r.default,{href:"/dashboard/agents/".concat(e.id),className:"flex items-center p-3 rounded-lg border hover:bg-slate-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:(null===(t=k.Cy.find(t=>t.id===e.voice))||void 0===t?void 0:t.avatar)?(0,l.jsx)(n.default,{src:k.Cy.find(t=>t.id===e.voice).avatar,alt:(null===(s=k.Cy.find(t=>t.id===e.voice))||void 0===s?void 0:s.name)||"Voice",width:40,height:40,className:"w-full h-full object-cover"}):(0,l.jsx)(y.Z,{className:"h-5 w-5 text-slate-400"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-slate-600",children:e.name}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.totalCalls||0," calls"]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(e.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"),children:e.isActive?"Active":"Inactive"}),e.mode&&k.jt[e.mode]&&(0,l.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[(0,l.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-teal-100",children:Z(e.mode)}),k.jt[e.mode].label]})]})]}),e.callPurpose&&(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:e.callPurpose})]})},e.id)})})})]}),(0,l.jsxs)(v.Zb,{children:[(0,l.jsxs)(v.Ol,{className:"flex flex-row items-center justify-between",children:[(0,l.jsx)("div",{children:(0,l.jsx)(v.ll,{className:"text-slate-600",children:"Recent Calls"})}),(0,l.jsx)(r.default,{href:"/dashboard/calls",children:(0,l.jsxs)(N.z,{variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:["View all ",(0,l.jsx)(g.Z,{className:"h-4 w-4 ml-1"})]})})]}),(0,l.jsx)(v.aY,{children:0===f.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[(0,l.jsx)(h.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"No calls yet"})]}):(0,l.jsx)("div",{className:"space-y-3",children:f.map(e=>{var t;return(0,l.jsx)(r.default,{href:"/dashboard/calls/".concat(e.id),className:"flex items-center p-3 rounded-lg border hover:bg-slate-50 transition-colors",children:(0,l.jsxs)("div",{className:"flex flex-col gap-3 w-full",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-teal-100 flex-shrink-0",children:"inbound"===e.direction?(0,l.jsx)(i.Z,{className:"h-4 w-4 text-teal-600"}):(0,l.jsx)(c.Z,{className:"h-4 w-4 text-teal-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-mono text-sm font-medium text-slate-600",children:(0,b.un)("inbound"===e.direction?e.from:e.to)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:(null===(t=e.agent)||void 0===t?void 0:t.name)||e.agentName||"Deleted Agent"})]})]}),(0,l.jsx)(M,{status:e.status})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,l.jsx)("span",{children:e.duration?(0,b.LU)(e.duration):"-"}),(0,l.jsx)("span",{children:(0,b.SY)(e.createdAt)})]})]})},e.id)})})})]})]})]})}function A(e){let{title:t,value:s,icon:a,description:r}=e;return(0,l.jsx)(v.Zb,{children:(0,l.jsx)(v.aY,{className:"pt-4 sm:pt-6 px-3 sm:px-6 pb-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,l.jsxs)("div",{className:"min-w-0",children:[(0,l.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:t}),(0,l.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-slate-600 truncate",children:s}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5 sm:mt-1 truncate",children:r})]}),(0,l.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 flex-shrink-0",children:a})]})})})}function M(e){let{status:t}=e,s=t.charAt(0).toUpperCase()+t.slice(1);return(0,l.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat({completed:"bg-green-100 text-green-700","in-progress":"bg-blue-100 text-blue-700",failed:"bg-red-100 text-red-700",ringing:"bg-yellow-100 text-yellow-700"}[t]||"bg-slate-100 text-slate-600"),children:s})}},4169:function(e,t,s){"use strict";s.d(t,{g7:function(){return o}});var l,a=s(2265),r=s(6923),n=s(7437),i=Symbol.for("react.lazy"),c=(l||(l=s.t(a,2)))[" use ".trim().toString()];function d(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var o=function(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:s,...l}=e;if(d(s)&&"function"==typeof c&&(s=c(s._payload)),a.isValidElement(s)){var n;let e,i;let c=(n=s,(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref),d=function(e,t){let s={...t};for(let l in t){let a=e[l],r=t[l];/^on[A-Z]/.test(l)?a&&r?s[l]=(...e)=>{let t=r(...e);return a(...e),t}:a&&(s[l]=a):"style"===l?s[l]={...a,...r}:"className"===l&&(s[l]=[a,r].filter(Boolean).join(" "))}return{...e,...s}}(l,s.props);return s.type!==a.Fragment&&(d.ref=t?(0,r.F)(t,c):c),a.cloneElement(s,d)}return a.Children.count(s)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=a.forwardRef((e,s)=>{let{children:l,...r}=e;d(l)&&"function"==typeof c&&(l=c(l._payload));let i=a.Children.toArray(l),o=i.find(x);if(o){let e=o.props.children,l=i.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...r,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,l):null})}return(0,n.jsx)(t,{...r,ref:s,children:l})});return s.displayName=`${e}.Slot`,s}("Slot"),u=Symbol("radix.slottable");function x(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}}},function(e){e.O(0,[225,145,648,798,971,117,744],function(){return e(e.s=8922)}),_N_E=e.O()}]);