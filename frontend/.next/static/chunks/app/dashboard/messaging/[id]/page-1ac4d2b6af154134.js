(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{90835:function(e,t,a){Promise.resolve().then(a.bind(a,55902))},79205:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var s=a(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:u,...m}=e;return(0,s.createElement)("svg",{ref:t,...l,width:n,height:n,stroke:a,strokeWidth:c?24*Number(i)/Number(n):i,className:r("lucide",o),...m},[...u.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,s.forwardRef)((a,l)=>{let{className:c,...o}=a;return(0,s.createElement)(i,{ref:l,iconNode:t,className:r("lucide-".concat(n(e)),c),...o})});return a.displayName="".concat(e),a}},71866:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},32660:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},17580:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},82222:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},99388:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},91723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},96362:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},48736:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},53113:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},51817:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53417:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},37806:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},95805:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},29374:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},32489:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},55902:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return U}});var s=a(57437),n=a(2265),r=a(99376),l=a(27648),i=a(33145),c=a(41671),o=a(99388),d=a(91723),u=a(53113),m=a(29374),h=a(48736),x=a(51817),f=a(32660),p=a(53417),g=a(37806),y=a(82222),v=a(17580),j=a(71866),N=a(96362),b=a(79820),w=a(12381),k=a(71837),Z=a(23340),S=a(78705),E=a(62532),C=a(93448);let M=e=>{if(!e)return null;let t=S.Cy.find(t=>t.id===e.toLowerCase());return(null==t?void 0:t.avatar)||null},D=e=>{let t=new Date(e),a=t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),s=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return"".concat(a," at ").concat(s)},A=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),L=e=>{let t=new Date(e),a=new Date,s=new Date(a);return(s.setDate(s.getDate()-1),t.toDateString()===a.toDateString())?"Today":t.toDateString()===s.toDateString()?"Yesterday":t.toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})},z=e=>{switch(null==e?void 0:e.toUpperCase()){case"DELIVERED":return"text-green-600";case"SENT":return"text-blue-600";case"QUEUED":case"SENDING":return"text-yellow-600";case"FAILED":case"UNDELIVERED":return"text-red-600";default:return"text-slate-500"}},R=e=>{switch(null==e?void 0:e.toUpperCase()){case"DELIVERED":case"SENT":return(0,s.jsx)(c.Z,{className:"h-3 w-3"});case"FAILED":case"UNDELIVERED":return(0,s.jsx)(o.Z,{className:"h-3 w-3"});default:return(0,s.jsx)(d.Z,{className:"h-3 w-3"})}},_=e=>(null==e?void 0:e.startsWith("image/"))?(0,s.jsx)(u.Z,{className:"h-4 w-4"}):(null==e?void 0:e.startsWith("video/"))?(0,s.jsx)(m.Z,{className:"h-4 w-4"}):(0,s.jsx)(h.Z,{className:"h-4 w-4"}),P=(e,t)=>{let a=new Date(e),s=new Date(t);return a.toDateString()===s.toDateString()};function U(){var e,t,a;let c=(0,r.useParams)(),o=(0,r.useRouter)(),{toast:d}=(0,Z.pm)(),[u,m]=(0,n.useState)(null),[h,S]=(0,n.useState)([]),[U,V]=(0,n.useState)(!0),[F,I]=(0,n.useState)(null),[q,H]=(0,n.useState)(!1),[T,B]=(0,n.useState)(!1),[O,W]=(0,n.useState)(1),$=(0,n.useRef)(null),Y=c.id;(0,n.useEffect)(()=>{Y&&G()},[Y]);let G=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;try{var t;let a=await k.h.getConversation(Y,{page:e,limit:50});1===e?(m(a.data.conversation),S(a.data.messages)):S(e=>[...a.data.messages,...e]),B((null===(t=a.meta)||void 0===t?void 0:t.hasMore)||!1),W(e);let s=a.data.conversation;if(s)try{let e=await k.h.getContactByPhone(s.externalNumber);e.data&&I(e.data)}catch(e){}}catch(e){d({title:"Error",description:e instanceof k.M?e.message:"Failed to fetch conversation",variant:"destructive"}),e instanceof k.M&&404===e.status&&o.push("/dashboard/messaging")}finally{V(!1)}},X=async e=>{try{if(await k.h.createContact(e),d({title:"Contact added",description:"The contact has been saved"}),H(!1),u)try{let e=await k.h.getContactByPhone(u.externalNumber);e.data&&I(e.data)}catch(e){}}catch(e){throw d({title:"Error",description:e.message||"Failed to save contact",variant:"destructive"}),e}};if((0,n.useEffect)(()=>{if(!U&&h.length>0){var e;null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}},[U]),U)return(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(x.Z,{className:"h-8 w-8 animate-spin text-teal-600"})});if(!u)return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex items-center gap-4",children:(0,s.jsx)(l.default,{href:"/dashboard/messaging",children:(0,s.jsxs)(w.z,{variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Back to Messaging"]})})}),(0,s.jsx)(b.Zb,{children:(0,s.jsxs)(b.aY,{className:"flex flex-col items-center justify-center py-16",children:[(0,s.jsx)(p.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Conversation not found"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center",children:"The conversation you're looking for doesn't exist or has been deleted."})]})})]});let J=M((null===(e=u.agent)||void 0===e?void 0:e.voice)||u.agentVoice);return(0,s.jsxs)("div",{className:"h-[calc(100vh-120px)] flex flex-col",children:[(0,s.jsx)("div",{className:"flex-shrink-0 pb-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l.default,{href:"/dashboard/messaging",children:(0,s.jsxs)(w.z,{variant:"ghost",size:"sm",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,s.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Back"]})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center bg-teal-100 flex-shrink-0",children:(0,s.jsx)(p.Z,{className:"h-5 w-5 text-teal-600"})}),(0,s.jsx)("div",{children:F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-slate-600",children:F.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground font-mono",children:(0,C.un)(u.externalNumber)})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold text-slate-600 font-mono",children:(0,C.un)(u.externalNumber)}),(0,s.jsx)("button",{onClick:()=>{H(!0)},className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Add to contacts",children:(0,s.jsx)(g.Z,{className:"h-4 w-4"})})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unknown contact"})]})})]})]}),(u.agent||u.agentName)&&(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-50 rounded-lg",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:J?(0,s.jsx)(i.default,{src:J,alt:(null===(t=u.agent)||void 0===t?void 0:t.name)||u.agentName||"Deleted Agent",width:32,height:32,className:"w-full h-full object-cover"}):(0,s.jsx)(y.Z,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("p",{className:"font-medium text-slate-600",children:(null===(a=u.agent)||void 0===a?void 0:a.name)||u.agentName||"Deleted Agent"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Agent"})]})]})]})}),(0,s.jsx)(b.Zb,{className:"flex-1 flex flex-col overflow-hidden",children:(0,s.jsxs)(b.aY,{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[T&&(0,s.jsx)("div",{className:"flex justify-center pb-4",children:(0,s.jsx)(w.z,{variant:"outline",size:"sm",onClick:()=>{G(O+1)},className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:"Load earlier messages"})}),h.map((e,t)=>{var a;let n="OUTBOUND"===e.direction,r=0===t||!P(h[t-1].createdAt,e.createdAt);return(0,s.jsxs)("div",{children:[r&&(0,s.jsx)("div",{className:"flex justify-center my-4",children:(0,s.jsx)("span",{className:"px-3 py-1 bg-slate-100 rounded-full text-xs text-muted-foreground",children:L(e.createdAt)})}),(0,s.jsx)("div",{className:"flex ".concat(n?"justify-end":"justify-start"),children:(0,s.jsxs)("div",{className:"max-w-[75%] ".concat(n?"order-1":"order-2"),children:[(0,s.jsx)("div",{className:"flex items-center gap-1 mb-1 ".concat(n?"justify-end":"justify-start"),children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:e.aiGenerated?e.agentName||(null===(a=u.agent)||void 0===a?void 0:a.name)||u.agentName||"Agent":"You"}),(0,s.jsx)(v.Z,{className:"h-3 w-3 text-teal-500"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(j.Z,{className:"h-3 w-3 text-slate-400"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:(null==F?void 0:F.name)||(0,C.un)(u.externalNumber)})]})}),(0,s.jsxs)("div",{className:"rounded-2xl px-4 py-2 ".concat(n?"bg-teal-600 text-white rounded-br-md":"bg-slate-100 text-slate-800 rounded-bl-md"),children:[e.numMedia>0&&e.mediaUrls.length>0&&(0,s.jsx)("div",{className:"space-y-2 mb-2",children:e.mediaUrls.map((t,a)=>{let r=e.mediaTypes[a]||"";return r.startsWith("image/")?(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"block",children:(0,s.jsx)("img",{src:t,alt:"Media",className:"rounded-lg max-w-full max-h-48 object-cover"})},a):(0,s.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-3 py-2 rounded-lg ".concat(n?"bg-teal-700":"bg-slate-200"),children:[_(r),(0,s.jsx)("span",{className:"text-sm truncate",children:"Attachment"}),(0,s.jsx)(N.Z,{className:"h-3 w-3 flex-shrink-0"})]},a)})}),e.body&&(0,s.jsx)("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.body}),!e.body&&e.numMedia>0&&0===e.mediaUrls.length&&(0,s.jsx)("p",{className:"text-sm italic ".concat(n?"text-teal-200":"text-slate-400"),children:"Media attachment"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 mt-1 ".concat(n?"justify-end":"justify-start"),children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:A(e.createdAt)}),n&&(0,s.jsx)("span",{className:"flex items-center gap-0.5 ".concat(z(e.status)),children:R(e.status)})]}),e.errorMessage&&(0,s.jsx)("p",{className:"text-xs text-red-500 mt-1",children:e.errorMessage})]})})]},e.id)}),0===h.length&&(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-center py-12",children:[(0,s.jsx)(p.Z,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-slate-600 mb-2",children:"No messages yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Messages in this conversation will appear here."})]}),(0,s.jsx)("div",{ref:$})]})}),(0,s.jsx)("div",{className:"flex-shrink-0 pt-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{children:[h.length," message",1!==h.length?"s":""]}),(0,s.jsxs)("span",{children:["Started ",D(u.createdAt)]})]})}),(0,s.jsx)(E.N,{open:q,onClose:()=>H(!1),onSave:X,initialPhoneNumber:u.externalNumber})]})}},62532:function(e,t,a){"use strict";a.d(t,{N:function(){return m}});var s=a(57437),n=a(2265),r=a(54887),l=a(12381),i=a(40279),c=a(75060),o=a(95805),d=a(32489),u=a(51817);function m(e){let{open:t,onClose:a,onSave:m,contact:h,initialPhoneNumber:x}=e,[f,p]=(0,n.useState)(""),[g,y]=(0,n.useState)(""),[v,j]=(0,n.useState)(""),[N,b]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1);(0,n.useEffect)(()=>{k(!0)},[]),(0,n.useEffect)(()=>{h?(p(h.name),y(h.phoneNumber),j(h.notes||"")):(p(""),y(x?Z(x):""),j(""))},[h,t,x]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,a]);let Z=e=>{let t=e.replace(/\D/g,"");return t.length<=3?t:t.length<=6?"(".concat(t.slice(0,3),") ").concat(t.slice(3)):t.length<=10?"(".concat(t.slice(0,3),") ").concat(t.slice(3,6),"-").concat(t.slice(6)):"+1 (".concat(t.slice(1,4),") ").concat(t.slice(4,7),"-").concat(t.slice(7,11))},S=async e=>{if(e.preventDefault(),f.trim()&&g.trim()){b(!0);try{await m({name:f.trim(),phoneNumber:g.trim(),notes:v.trim()||void 0})}finally{b(!1)}}};if(!t||!w)return null;let E=(0,s.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:a}),(0,s.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"h-5 w-5 text-slate-600"}),(0,s.jsx)("h2",{className:"text-lg font-semibold text-slate-600",children:h?"Edit Contact":"Add Contact"})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,s.jsx)(d.Z,{className:"h-5 w-5 text-slate-500"})})]}),(0,s.jsxs)("form",{onSubmit:S,className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c._,{htmlFor:"name",className:"text-muted-foreground",children:["Name ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(i.I,{id:"name",placeholder:"John Smith",value:f,onChange:e=>p(e.target.value),required:!0,autoFocus:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(c._,{htmlFor:"phone",className:"text-muted-foreground",children:["Phone Number ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)(i.I,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:g,onChange:e=>{y(Z(e.target.value))},required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(c._,{htmlFor:"notes",className:"text-muted-foreground",children:"Notes"}),(0,s.jsx)("textarea",{id:"notes",placeholder:"Add any notes about this contact...",value:v,onChange:e=>j(e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md text-sm resize-none focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,s.jsx)(l.z,{type:"button",variant:"outline",onClick:a,className:"flex-1",disabled:N,children:"Cancel"}),(0,s.jsx)(l.z,{type:"submit",className:"flex-1 bg-teal-600 hover:bg-teal-700",disabled:N||!f.trim()||!g.trim(),children:N?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):h?"Save Changes":"Add Contact"})]})]})]})]});return(0,r.createPortal)(E,document.body)}},40279:function(e,t,a){"use strict";a.d(t,{I:function(){return l}});var s=a(57437),n=a(2265),r=a(93448);let l=n.forwardRef((e,t)=>{let{className:a,type:n,...l}=e;return(0,s.jsx)("input",{type:n,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...l})});l.displayName="Input"},75060:function(e,t,a){"use strict";a.d(t,{_:function(){return l}});var s=a(57437),n=a(2265),r=a(93448);let l=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)("label",{ref:t,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...n})});l.displayName="Label"},94169:function(e,t,a){"use strict";a.d(t,{g7:function(){return d}});var s,n=a(2265),r=a(96923),l=a(57437),i=Symbol.for("react.lazy"),c=(s||(s=a.t(n,2)))[" use ".trim().toString()];function o(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var d=function(e){let t=function(e){let t=n.forwardRef((e,t)=>{let{children:a,...s}=e;if(o(a)&&"function"==typeof c&&(a=c(a._payload)),n.isValidElement(a)){var l;let e,i;let c=(l=a,(e=Object.getOwnPropertyDescriptor(l.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.ref:(e=Object.getOwnPropertyDescriptor(l,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?l.props.ref:l.props.ref||l.ref),o=function(e,t){let a={...t};for(let s in t){let n=e[s],r=t[s];/^on[A-Z]/.test(s)?n&&r?a[s]=(...e)=>{let t=r(...e);return n(...e),t}:n&&(a[s]=n):"style"===s?a[s]={...n,...r}:"className"===s&&(a[s]=[n,r].filter(Boolean).join(" "))}return{...e,...a}}(s,a.props);return a.type!==n.Fragment&&(o.ref=t?(0,r.F)(t,c):c),n.cloneElement(a,o)}return n.Children.count(a)>1?n.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),a=n.forwardRef((e,a)=>{let{children:s,...r}=e;o(s)&&"function"==typeof c&&(s=c(s._payload));let i=n.Children.toArray(s),d=i.find(m);if(d){let e=d.props.children,s=i.map(t=>t!==d?t:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...r,ref:a,children:n.isValidElement(e)?n.cloneElement(e,void 0,s):null})}return(0,l.jsx)(t,{...r,ref:a,children:s})});return a.displayName=`${e}.Slot`,a}("Slot"),u=Symbol("radix.slottable");function m(e){return n.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===u}}},function(e){e.O(0,[225,145,648,92,452,971,117,744],function(){return e(e.s=90835)}),_N_E=e.O()}]);