(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[537],{4792:function(e,t,s){Promise.resolve().then(s.bind(s,2004))},2004:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(7437),l=s(2265),r=s(9376),n=s(7648),i=s(9820),d=s(2381),o=s(279),c=s(1837),m=s(3340),u=s(8705),x=s(9173),h=s(1866),p=s(7580),f=s(8428),g=s(1047),b=s(5368),N=s(3044),v=s(4766),j=s(2718),y=s(5868),w=s(2222),S=s(2023),k=s(8420),C=s(9322),T=s(8728),E=s(3041),P=s(875),I=s(2660);let O=e=>{switch(e){case"INBOUND":return(0,a.jsx)(h.Z,{className:"h-4 w-4 text-teal-600"});case"OUTBOUND":return(0,a.jsx)(p.Z,{className:"h-4 w-4 text-teal-600"});case"HYBRID":return(0,a.jsx)(f.Z,{className:"h-4 w-4 text-teal-600"});default:return null}},A=(e,t)=>{let s="h-3 w-3 ".concat(t?"text-teal-600":"text-slate-500");switch(e){case"SCHEDULE_APPOINTMENTS":return(0,a.jsx)(g.Z,{className:s});case"ANSWER_SUPPORT":return(0,a.jsx)(b.Z,{className:s});case"COLLECT_INFO":return(0,a.jsx)(N.Z,{className:s});case"SEND_REMINDERS":return(0,a.jsx)(v.Z,{className:s});case"GENERAL_INQUIRIES":return(0,a.jsx)(j.Z,{className:s});case"CUSTOM":return(0,a.jsx)(y.Z,{className:s});default:return null}},Z=e=>{let t=e.replace(/\D/g,"");return 11===t.length&&t.startsWith("1")?"(".concat(t.slice(1,4),") ").concat(t.slice(4,7),"-").concat(t.slice(7)):e},D=[{id:"mode-default",name:"Mode-Optimized",description:"Auto-generated prompt optimized for your selected mode",prompt:"",isDefault:!0},{id:"custom",name:"Custom Agent",description:"Start from scratch with your own prompt",prompt:""}];function _(){var e,t,s;let h=(0,r.useRouter)(),{toast:p}=(0,m.pm)(),[f,b]=(0,l.useState)(1),[N,v]=(0,l.useState)(!1),[j,y]=(0,l.useState)(!1),[_,z]=(0,l.useState)(null),[M,U]=(0,l.useState)([]),[R,W]=(0,l.useState)(""),[B,F]=(0,l.useState)(!0),[G,H]=(0,l.useState)(!1),[L,Y]=(0,l.useState)(!1),V=(0,l.useRef)(null),[q,$]=(0,l.useState)({name:"",template:"mode-default",systemPrompt:(0,u.fn)("INBOUND",!1),voiceId:u.Cy[0].id,greeting:"",mode:"INBOUND",outboundGreeting:"",callTimeout:600,retryAttempts:0,callWindowStart:"",callWindowEnd:"",calendarEnabled:!1,callPurposeType:"SCHEDULE_APPOINTMENTS",callPurpose:u.mN.SCHEDULE_APPOINTMENTS.value}),[Q,X]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=async()=>{F(!0);try{var e,t;let s=await c.h.getTwilioSettings();if(H((null===(e=s.data)||void 0===e?void 0:e.configured)||!1),null===(t=s.data)||void 0===t?void 0:t.configured){let e=(await c.h.getPhoneNumbers()).data||[];if(U(e),e.length>0){let t=e.find(e=>!e.agent);W((null==t?void 0:t.id)||e[0].id)}}}catch(e){}finally{F(!1)}};(async()=>{try{var e,t;let s=await c.h.getCalendarStatus();y((null===(e=s.data)||void 0===e?void 0:e.connected)||!1),z(s.data||null),(null===(t=s.data)||void 0===t?void 0:t.connected)&&"mode-default"===q.template&&$(e=>({...e,systemPrompt:(0,u.fn)(e.mode,!0)}))}catch(e){}})(),e(),J()},[]);let J=async()=>{try{let e=await c.h.getBusinessProfile();X(e.data||null)}catch(e){}},K=()=>{var e;let t=null===(e=u.Cy.find(e=>e.id===q.voiceId))||void 0===e?void 0:e.name;if((null==Q?void 0:Q.organizationName)||t||q.callPurpose)return{organizationName:(null==Q?void 0:Q.organizationName)||void 0,industry:(null==Q?void 0:Q.industry)||void 0,businessDescription:(null==Q?void 0:Q.businessDescription)||void 0,personaName:t||void 0,callPurpose:q.callPurpose||void 0}},ee=e=>{$(t=>{let s={mode:e};return"mode-default"===t.template&&(s.systemPrompt=(0,u.fn)(e,j,K())),{...t,...s}})},et=e=>{let t=D.find(t=>t.id===e);$(s=>{let a={template:e};return"mode-default"===e?a.systemPrompt=(0,u.fn)(s.mode,j,K()):t&&(a.systemPrompt=t.prompt),{...s,...a}})},es=D.find(e=>e.id===q.template),ea=async()=>{if(!q.name.trim()){p({title:"Name required",description:"Please enter a name for your agent.",variant:"destructive"});return}let e=q.systemPrompt||(null==es?void 0:es.prompt);if(!(null==e?void 0:e.trim())){p({title:"Prompt required",description:"Please enter a system prompt.",variant:"destructive"});return}v(!0);try{var t;let s=(await c.h.createAgent({name:q.name,systemPrompt:e,voiceId:q.voiceId,greeting:q.greeting,template:"custom"!==q.template?q.template:void 0,mode:q.mode,outboundGreeting:q.outboundGreeting||void 0,callTimeout:q.callTimeout,retryAttempts:q.retryAttempts,callWindowStart:q.callWindowStart||void 0,callWindowEnd:q.callWindowEnd||void 0,calendarEnabled:q.calendarEnabled,personaName:(null===(t=u.Cy.find(e=>e.id===q.voiceId))||void 0===t?void 0:t.name)||void 0,callPurpose:q.callPurpose||void 0})).data.id;if(R)try{await c.h.updatePhoneNumber(R,{agentId:s})}catch(e){console.error("Failed to assign phone number:",e),p({title:"Agent created with warning",description:"".concat(q.name," was created but phone number assignment failed. You can assign it in Settings.")}),h.push("/dashboard/agents/".concat(s));return}p({title:"Agent created!",description:"".concat(q.name," is ready to use.")}),h.push("/dashboard/agents/".concat(s))}catch(e){p({title:"Error",description:e instanceof c.M?e.message:"Failed to create agent",variant:"destructive"})}finally{v(!1)}};return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,a.jsx)(w.Z,{className:"h-8 w-8 text-slate-600"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-600",children:"Create New Agent"}),(0,a.jsx)("span",{className:"hidden sm:inline text-slate-400",children:"â€¢"}),(0,a.jsx)("p",{className:"text-muted-foreground w-full sm:w-auto",children:"Build an AI voice agent step by step"})]}),1===f&&(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-slate-600",children:"Choose a Template"}),(0,a.jsx)(i.SZ,{children:"Start with a pre-built template or create from scratch"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(e=>(0,a.jsxs)("button",{className:"p-4 border rounded-lg text-left hover:border-teal-400 transition-colors ".concat(q.template===e.id?"border-teal-500 bg-teal-50":""),onClick:()=>et(e.id),children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-slate-600",children:e.name}),"isDefault"in e&&e.isDefault&&(0,a.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-teal-100 text-teal-700 w-fit",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3 mr-1"}),"Recommended"]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]},e.id))}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(d.z,{onClick:()=>b(2),className:"bg-teal-600 hover:bg-teal-700",children:"Continue"})})]})]}),2===f&&(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-slate-600",children:"Basic Information"}),(0,a.jsx)(i.SZ,{children:"Set up your agent's identity and behavior"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-sm font-medium text-muted-foreground",children:"Agent Name *"}),(0,a.jsx)(o.I,{id:"name",placeholder:"e.g., Sales Assistant",value:q.name,onChange:e=>$({...q,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Organization *"}),(null==Q?void 0:Q.organizationName)?(0,a.jsx)("div",{className:"p-4 border rounded-lg border-teal-500 bg-teal-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-teal-100",children:(0,a.jsx)(k.Z,{className:"h-3 w-3 text-teal-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm text-muted-foreground",children:Q.organizationName}),Q.industry&&(0,a.jsx)("span",{className:"text-xs text-muted-foreground ml-auto",children:Q.industry})]})}):(0,a.jsx)(n.default,{href:"/dashboard/settings?tab=preferences",className:"block",children:(0,a.jsxs)("div",{className:"p-4 border rounded-lg border-amber-300 bg-amber-50 hover:border-amber-400 transition-colors cursor-pointer",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-amber-100",children:(0,a.jsx)(C.Z,{className:"h-3 w-3 text-amber-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-sm text-amber-800",children:"Not configured"})]}),(0,a.jsx)("p",{className:"text-xs text-amber-700",children:"Click to set up your organization profile in Settings"})]})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Phone Number *"}),B?(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:"Loading phone numbers..."}):G?0===M.length?(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-slate-100 border border-slate-200 rounded-md",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-slate-500 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-slate-700",children:"No phone numbers available"}),(0,a.jsx)("p",{className:"text-xs text-slate-600 mt-1",children:"Import phone numbers from your Twilio account to assign to this agent."}),(0,a.jsxs)(n.default,{href:"/dashboard/settings",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:underline",children:[(0,a.jsx)(T.Z,{className:"h-3 w-3"}),"Manage Phone Numbers"]})]})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"relative",ref:V,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>Y(!L),className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md w-full justify-between transition-colors ".concat(R?"border-teal-500 bg-teal-50":"bg-white hover:bg-slate-50"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2.5 min-w-0",children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(E.Z,{className:"h-4 w-4 text-teal-600"})}),(0,a.jsx)("span",{className:"font-medium text-slate-600",children:Z((null===(e=M.find(e=>e.id===R))||void 0===e?void 0:e.phoneNumber)||"")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(E.Z,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Select a phone number"})]})}),(0,a.jsx)(P.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ".concat(L?"rotate-180":"")})]}),L&&(0,a.jsx)("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-md shadow-lg py-1 max-h-60 overflow-auto",children:M.map(e=>{var t;let s=e.agent&&e.agent.id,l=e.id===R;return(0,a.jsxs)("button",{type:"button",onClick:()=>{W(e.id),Y(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left ".concat(l?"bg-teal-50":""),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ".concat(s?"bg-amber-100":"bg-teal-100"),children:(0,a.jsx)(E.Z,{className:"h-4 w-4 ".concat(s?"text-amber-600":"text-teal-600")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("span",{className:"font-medium block truncate",children:Z(e.phoneNumber)}),s&&(0,a.jsxs)("span",{className:"text-xs text-amber-600 block",children:["Currently assigned to: ",null===(t=e.agent)||void 0===t?void 0:t.name]}),l&&(0,a.jsx)("span",{className:"text-xs text-teal-600 block",children:"Selected"})]})]},e.id)})})]})}):(0,a.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-md",children:[(0,a.jsx)(C.Z,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-amber-800",children:"Twilio not configured"}),(0,a.jsx)("p",{className:"text-xs text-amber-700 mt-1",children:"Configure your Twilio credentials in Settings to enable phone number assignment."}),(0,a.jsxs)(n.default,{href:"/dashboard/settings",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:underline",children:[(0,a.jsx)(T.Z,{className:"h-3 w-3"}),"Go to Settings"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Agent Mode *"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(u.jt).map(e=>{let[t,s]=e;return(0,a.jsxs)("button",{type:"button",className:"p-3 border rounded-lg text-left hover:border-teal-500 transition-colors ".concat(q.mode===t?"border-teal-500 bg-teal-50":""),onClick:()=>ee(t),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-teal-100",children:O(t)}),(0,a.jsx)("h3",{className:"font-semibold text-xs text-slate-600",children:s.label})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:s.description})]},t)})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Call Purpose *"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(u.mN).map(e=>{let[t,s]=e,l=q.callPurposeType===t;return(0,a.jsxs)("button",{type:"button",onClick:()=>{let e="CUSTOM"===t?"":s.value;$(s=>({...s,callPurposeType:t,callPurpose:e})),"mode-default"===q.template&&"CUSTOM"!==t&&setTimeout(()=>{$(t=>({...t,systemPrompt:(0,u.fn)(t.mode,j,{...K(),callPurpose:e})}))},0)},className:"p-3 border rounded-lg text-left hover:border-teal-400 transition-colors ".concat(l?"border-teal-500 bg-teal-50":""),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("span",{className:"w-5 h-5 rounded-full flex items-center justify-center ".concat(l?"bg-teal-100":"bg-slate-100"),children:A(t,l)}),(0,a.jsx)("h3",{className:"font-semibold text-xs text-slate-600",children:s.label})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:s.description})]},t)})}),"CUSTOM"===q.callPurposeType&&(0,a.jsx)(o.I,{id:"callPurpose",placeholder:"Enter your custom call purpose...",value:q.callPurpose,onChange:e=>{$({...q,callPurpose:e.target.value}),"mode-default"===q.template&&setTimeout(()=>{$(t=>({...t,systemPrompt:(0,u.fn)(t.mode,j,{...K(),callPurpose:e.target.value})}))},0)},className:"mt-3"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>b(1),className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsx)(d.z,{onClick:()=>b(3),disabled:!q.name.trim(),className:"bg-teal-600 hover:bg-teal-700",children:"Continue"})]})]})]}),3===f&&(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{className:"text-slate-600",children:"Behavior & Voice"}),(0,a.jsx)(i.SZ,{children:"Configure how your agent talks and responds"})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"voice",className:"text-sm font-medium text-muted-foreground",children:"Voice *"}),(0,a.jsx)(x.$,{value:q.voiceId,onChange:e=>$({...q,voiceId:e})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"prompt",className:"text-sm font-medium text-muted-foreground",children:"System Prompt *"}),(0,a.jsx)("textarea",{id:"prompt",className:"w-full min-h-[200px] p-3 border rounded-md text-sm",placeholder:"Describe how your agent should behave...",value:q.systemPrompt||(null==es?void 0:es.prompt)||"",onChange:e=>$({...q,systemPrompt:e.target.value})})]}),("INBOUND"===q.mode||"HYBRID"===q.mode)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"greeting",className:"text-sm font-medium text-muted-foreground",children:"Inbound Greeting (optional)"}),(0,a.jsx)(o.I,{id:"greeting",placeholder:"e.g., Hi, this is ".concat((null===(t=u.Cy.find(e=>e.id===q.voiceId))||void 0===t?void 0:t.name)||"your assistant",". How can I help you today?"),value:q.greeting,onChange:e=>$({...q,greeting:e.target.value})})]}),("OUTBOUND"===q.mode||"HYBRID"===q.mode)&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"outboundGreeting",className:"text-sm font-medium text-muted-foreground",children:"Outbound Greeting (optional)"}),(0,a.jsx)(o.I,{id:"outboundGreeting",placeholder:"e.g., Hi, this is ".concat((null===(s=u.Cy.find(e=>e.id===q.voiceId))||void 0===s?void 0:s.name)||"your assistant"," calling from ").concat((null==Q?void 0:Q.organizationName)||"[company]","..."),value:q.outboundGreeting,onChange:e=>$({...q,outboundGreeting:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Call Window (optional)"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"From"}),(0,a.jsx)(o.I,{id:"callWindowStart",type:"time",placeholder:"Start time",value:q.callWindowStart,onChange:e=>$({...q,callWindowStart:e.target.value}),className:"flex-1 [&::-webkit-calendar-picker-indicator]:opacity-100 [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[.5] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:saturate-[10] [&::-webkit-calendar-picker-indicator]:hue-rotate-[130deg]"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"To"}),(0,a.jsx)(o.I,{id:"callWindowEnd",type:"time",placeholder:"End time",value:q.callWindowEnd,onChange:e=>$({...q,callWindowEnd:e.target.value}),className:"flex-1 [&::-webkit-calendar-picker-indicator]:opacity-100 [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[.5] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:saturate-[10] [&::-webkit-calendar-picker-indicator]:hue-rotate-[130deg]"})]})]})]}),j&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Tool Access (optional)"}),(0,a.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-slate-50 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",checked:q.calendarEnabled,onChange:e=>{let t=e.target.checked;$(e=>({...e,calendarEnabled:t,systemPrompt:"mode-default"===e.template?(0,u.fn)(e.mode,t):e.systemPrompt}))},className:"mt-0.5 h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),(0,a.jsx)(g.Z,{className:"h-4 w-4 text-teal-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"font-medium text-sm text-slate-600",children:"Calendar"}),(null==_?void 0:_.provider)&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-teal-100 text-teal-700",children:"calcom"===_.provider?"Cal.com":"Calendly"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-0.5",children:"When enabled, this agent can check your availability and book appointments"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,a.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>b(2),className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,a.jsx)(d.z,{onClick:ea,disabled:N,className:"bg-teal-600 hover:bg-teal-700",children:N?"Creating...":"Create Agent"})]})]})]})]})}},9173:function(e,t,s){"use strict";s.d(t,{$:function(){return o}});var a=s(7437),l=s(2265),r=s(3145),n=s(8705),i=s(2369),d=s(875);function o(e){let{value:t,onChange:s,disabled:o=!1}=e,[c,m]=(0,l.useState)(!1),u=(0,l.useRef)(null),x=n.Cy.find(e=>e.id===t)||n.Cy[0];(0,l.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&m(!1)};return c&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[c]);let h=e=>{s(e),m(!1)};return(0,a.jsxs)("div",{className:"relative",ref:u,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>!o&&m(!c),disabled:o,className:"w-full flex items-center gap-3 px-3 py-2.5 border rounded-md bg-white hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:x.avatar?(0,a.jsx)(r.default,{src:x.avatar,alt:x.name,width:48,height:48,className:"w-full h-full object-cover"}):(0,a.jsx)(i.Z,{className:"w-6 h-6 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-600",children:x.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:x.description})]}),(0,a.jsx)(d.Z,{className:"w-4 h-4 text-slate-400 transition-transform ".concat(c?"rotate-180":"")})]}),c&&(0,a.jsx)("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-80 overflow-y-auto",children:n.Cy.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>h(e.id),className:"w-full flex items-center gap-3 px-3 py-2.5 hover:bg-slate-50 transition-colors ".concat(e.id===t?"bg-primary/5":""),children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:e.avatar?(0,a.jsx)(r.default,{src:e.avatar,alt:e.name,width:48,height:48,className:"w-full h-full object-cover"}):(0,a.jsx)(i.Z,{className:"w-6 h-6 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("div",{className:"font-medium text-sm text-slate-600",children:e.name}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]}),e.id===t&&(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-primary flex-shrink-0"})]},e.id))})]})}},279:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(7437),l=s(2265),r=s(3448);let n=l.forwardRef((e,t)=>{let{className:s,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},3340:function(e,t,s){"use strict";s.d(t,{pm:function(){return u}});var a=s(2265);let l=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=i(o,e),d.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[225,145,648,473,798,971,117,744],function(){return e(e.s=4792)}),_N_E=e.O()}]);