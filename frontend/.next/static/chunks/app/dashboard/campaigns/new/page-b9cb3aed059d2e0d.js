(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{29396:function(e,t,s){Promise.resolve().then(s.bind(s,23723))},79205:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var a=s(2265);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&s.indexOf(e)===t).join(" ")};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)((e,t)=>{let{color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,iconNode:m,...u}=e;return(0,a.createElement)("svg",{ref:t,...n,width:l,height:l,stroke:s,strokeWidth:d?24*Number(i)/Number(l):i,className:r("lucide",c),...u},[...m.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(o)?o:[o]])}),d=(e,t)=>{let s=(0,a.forwardRef)((s,n)=>{let{className:d,...c}=s;return(0,a.createElement)(i,{ref:n,iconNode:t,className:r("lucide-".concat(l(e)),d),...c})});return s.displayName="".concat(e),s}},71866:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},68428:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},32660:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},76858:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},17580:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},82222:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},30401:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},40875:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},49322:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},48736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},46211:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},51817:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},92369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},32489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},99376:function(e,t,s){"use strict";var a=s(35475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},23723:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return O}});var a=s(57437),l=s(2265),r=s(99376),n=s(33145),i=s(27648),d=s(71866),c=s(17580),o=s(68428),m=s(46211),u=s(30401),x=s(51817),h=s(49322),p=s(82222),f=s(40875),g=s(92369),j=s(32660),v=s(76858),N=s(79820),y=s(12381),b=s(40279),w=s(75060),k=s(23675),C=s(79205);let Z=(0,C.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var I=s(48736),S=s(32489);let D=(0,C.Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);function E(e){let{onUpload:t,onPreview:s}=e,[r,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(null),[c,o]=(0,l.useState)(null),[m,u]=(0,l.useState)(null),x=(0,l.useCallback)(e=>{e.preventDefault(),n(!0)},[]),p=(0,l.useCallback)(e=>{e.preventDefault(),n(!1)},[]),f=e=>{let t=e.trim().split("\n");if(t.length<2)throw Error("CSV must have at least a header row and one data row");let s=t[0].split(",").map(e=>e.trim().toLowerCase());if(!s.some(e=>e.includes("phone")||"phone number"===e||"phonenumber"===e))throw Error('CSV must include a phone number column (e.g., "phone", "phoneNumber", or "Phone Number")');let a=[];for(let e=1;e<t.length;e++){let l=t[e].trim();if(!l)continue;let r=l.split(",").map(e=>e.trim()),n={};s.forEach((e,t)=>{r[t]&&(e.includes("phone")?n.phone=r[t]:e.includes("name")?n.name=r[t]:e.includes("email")?n.email=r[t]:n[e]=r[t])}),(n.phone||"").replace(/\D/g,"").length>=10&&a.push(n)}if(0===a.length)throw Error("No valid leads found in CSV. Ensure phone numbers have at least 10 digits.");return a},g=async e=>{o(null),d(e);try{let t=await e.text(),a=f(t);u(a.slice(0,5)),s&&s(a)}catch(e){o(e.message),d(null),u(null)}},j=(0,l.useCallback)(e=>{e.preventDefault(),n(!1);let t=e.dataTransfer.files[0];if(!t){o("No file dropped");return}if(!t.name.endsWith(".csv")){o("Please upload a CSV file");return}g(t)},[s]);return(0,a.jsxs)("div",{className:"space-y-4",children:[!i&&(0,a.jsxs)("div",{onDragOver:x,onDragLeave:p,onDrop:j,className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors ".concat(r?"border-teal-600 bg-teal-50":"border-slate-300 hover:border-teal-600 hover:bg-slate-50"),children:[(0,a.jsx)("input",{type:"file",accept:".csv",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(s){if(!s.name.endsWith(".csv")){o("Please upload a CSV file");return}g(s)}},className:"hidden",id:"csv-upload"}),(0,a.jsxs)("label",{htmlFor:"csv-upload",className:"cursor-pointer",children:[(0,a.jsx)(Z,{className:"h-12 w-12 mx-auto text-slate-400 mb-4"}),(0,a.jsx)("p",{className:"text-lg font-medium text-slate-600 mb-2",children:"Drop your CSV file here or click to browse"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"CSV must include phone numbers. Optional: name, email, custom fields"})]})]}),i&&!c&&(0,a.jsx)(N.Zb,{className:"border-teal-200 bg-teal-50",children:(0,a.jsx)(N.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center",children:(0,a.jsx)(I.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-600",children:i.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(i.size/1024).toFixed(1)," KB",m&&" • ".concat(m.length," leads preview")]})]})]}),(0,a.jsx)(y.z,{variant:"ghost",size:"icon",onClick:()=>{d(null),o(null),u(null)},className:"text-slate-400 hover:text-slate-600",children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})})]})})}),c&&(0,a.jsx)(N.Zb,{className:"border-red-200 bg-red-50",children:(0,a.jsx)(N.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5 text-red-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-red-600",children:"Upload Error"}),(0,a.jsx)("p",{className:"text-sm text-red-700 mt-1",children:c})]}),(0,a.jsx)(y.z,{variant:"ghost",size:"icon",onClick:()=>o(null),className:"text-red-400 hover:text-red-600",children:(0,a.jsx)(S.Z,{className:"h-4 w-4"})})]})})}),m&&m.length>0&&(0,a.jsx)(N.Zb,{children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(D,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600",children:["Lead Preview (First ",m.length," Rows)"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:"border-b",children:Object.keys(m[0]).map(e=>(0,a.jsx)("th",{className:"text-left font-medium text-muted-foreground p-2",children:e},e))})}),(0,a.jsx)("tbody",{children:m.map((e,t)=>(0,a.jsx)("tr",{className:"border-b",children:Object.keys(e).map(t=>(0,a.jsx)("td",{className:"p-2",children:e[t]},t))},t))})]})})]})}),(0,a.jsx)(N.Zb,{className:"bg-slate-50",children:(0,a.jsxs)(N.aY,{className:"p-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-slate-600 mb-2",children:"CSV Format Guide:"}),(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("p",{children:["• Required column: ",(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded",children:"phone"})," or ",(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded",children:"phoneNumber"})]}),(0,a.jsxs)("p",{children:["• Optional columns: ",(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded",children:"name"}),", ",(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded",children:"email"}),", custom fields"]}),(0,a.jsxs)("p",{children:["• Example: ",(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded text-xs",children:"name,phone,email"})]}),(0,a.jsx)("p",{className:"ml-12",children:(0,a.jsx)("code",{className:"bg-white px-1 py-0.5 rounded text-xs",children:"John Doe,555-1234,(555) 123-4567,john@example.com"})})]})]})})]})}var R=s(71837),P=s(23340),L=s(78705);let M=e=>{switch(e){case"INBOUND":return(0,a.jsx)(d.Z,{className:"h-3 w-3"});case"OUTBOUND":return(0,a.jsx)(c.Z,{className:"h-3 w-3"});case"HYBRID":return(0,a.jsx)(o.Z,{className:"h-3 w-3"});default:return null}};function O(){var e;let t=(0,r.useRouter)(),{toast:s}=(0,P.pm)(),[d,c]=(0,l.useState)(1),[o,C]=(0,l.useState)(!1),[Z,I]=(0,l.useState)([]),[S,D]=(0,l.useState)(!0),[O,_]=(0,l.useState)(!1),H=(0,l.useRef)(null),[z,W]=(0,l.useState)(null),[A,B]=(0,l.useState)({name:"",description:"",agentId:"",leads:[],startDate:"",endDate:"",callWindowStart:"09:00",callWindowEnd:"17:00",dailyCallLimit:100,callsPerHour:null,minCallInterval:30,maxRetryAttempts:3,retryInterval:3600});(0,l.useEffect)(()=>{V()},[]),(0,l.useEffect)(()=>{if(!O)return;let e=e=>{H.current&&!H.current.contains(e.target)&&_(!1)},t=e=>{"Escape"===e.key&&_(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[O]);let V=async()=>{D(!0);try{let e=((await R.h.getAgents()).data||[]).filter(e=>"OUTBOUND"===e.mode||"HYBRID"===e.mode);I(e)}catch(e){console.error("Failed to fetch agents:",e)}finally{D(!1)}},F=Z.find(e=>e.id===A.agentId),U=async()=>{if(!A.name.trim()){s({title:"Error",description:"Campaign name is required",variant:"destructive"});return}if(!A.agentId){s({title:"Error",description:"Please select an agent",variant:"destructive"});return}if(0===A.leads.length){s({title:"Error",description:"Please upload leads",variant:"destructive"});return}C(!0);try{let e=(await R.h.createCampaign({name:A.name,description:A.description||void 0,agentId:A.agentId,startDate:A.startDate?new Date(A.startDate).toISOString():void 0,endDate:A.endDate?new Date(A.endDate).toISOString():void 0,callWindowStart:A.callWindowStart,callWindowEnd:A.callWindowEnd,dailyCallLimit:A.dailyCallLimit,callsPerHour:A.callsPerHour||void 0,minCallInterval:A.minCallInterval,maxRetryAttempts:A.maxRetryAttempts,retryInterval:A.retryInterval})).data.id;z&&await R.h.uploadCampaignLeadsCSV(e,z),s({title:"Campaign created!",description:"".concat(A.name," is ready to launch.")}),t.push("/dashboard/campaigns/".concat(e))}catch(e){s({title:"Error",description:e instanceof R.M?e.message:"Failed to create campaign",variant:"destructive"})}finally{C(!1)}},Y=A.name.trim()&&A.agentId,T=A.leads.length>0,q=A.callWindowStart&&A.callWindowEnd;return(0,a.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,a.jsx)(m.Z,{className:"h-8 w-8 text-slate-600"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-600",children:"Create Campaign"}),(0,a.jsx)("span",{className:"hidden sm:inline text-slate-400",children:"•"}),(0,a.jsx)("p",{className:"text-muted-foreground w-full sm:w-auto",children:"Set up automated outbound calling"})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ".concat(e===d?"bg-gradient-to-b from-[#0fa693] to-teal-600 text-white":e<d?"bg-teal-100 text-teal-600":"bg-slate-100 text-slate-400"),children:e<d?(0,a.jsx)(u.Z,{className:"h-4 w-4"}):e}),e<4&&(0,a.jsx)("div",{className:"flex-1 h-1 mx-2 transition-colors ".concat(e<d?"bg-teal-600":"bg-slate-200")})]},e))}),1===d&&(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsx)(N.ll,{className:"text-slate-600",children:"Campaign Basics"})}),(0,a.jsxs)(N.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Campaign Name *"}),(0,a.jsx)(b.I,{placeholder:"e.g., Holiday Promotion 2025",value:A.name,onChange:e=>B({...A,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Description"}),(0,a.jsx)(k.g,{placeholder:"Brief description of campaign goals...",value:A.description,onChange:e=>B({...A,description:e.target.value}),rows:3})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Agent *"}),S?(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 border rounded-md",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 animate-spin text-teal-600"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Loading agents..."})]}):0===Z.length?(0,a.jsx)("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"text-sm text-amber-700",children:[(0,a.jsx)("p",{className:"font-medium",children:"No outbound agents"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs",children:"Create an agent with Outbound or Hybrid mode first."})]})]})}):(0,a.jsxs)("div",{className:"relative",ref:H,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>_(!O),className:"w-full flex items-center gap-3 p-3 border rounded-md bg-white hover:bg-slate-50 transition-colors",children:[F?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:(null===(e=L.Cy.find(e=>e.id===F.voice))||void 0===e?void 0:e.avatar)?(0,a.jsx)(n.default,{src:L.Cy.find(e=>e.id===F.voice).avatar,alt:F.name,width:32,height:32,className:"w-full h-full object-cover"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-slate-600 truncate text-sm",children:F.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[M(F.mode),"HYBRID"===F.mode?"Hybrid":"INBOUND"===F.mode?"Inbound":"Outbound"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Select an agent..."})]}),(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground ml-auto transition-transform ".concat(O?"rotate-180":"")})]}),O&&(0,a.jsx)("div",{className:"absolute z-10 mt-1 w-full bg-white border rounded-md shadow-lg max-h-64 overflow-y-auto",children:Z.map(e=>{var t;let s=null===(t=L.Cy.find(t=>t.id===e.voice))||void 0===t?void 0:t.avatar,l=A.agentId===e.id;return(0,a.jsxs)("button",{type:"button",onClick:()=>{B({...A,agentId:e.id}),_(!1)},className:"w-full flex items-center gap-3 p-3 hover:bg-slate-50 transition-colors ".concat(l?"bg-teal-50":""),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:s?(0,a.jsx)(n.default,{src:s,alt:e.name,width:32,height:32,className:"w-full h-full object-cover"}):(0,a.jsx)(g.Z,{className:"h-4 w-4 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-slate-600 truncate text-sm",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[M(e.mode),"HYBRID"===e.mode?"Hybrid":"INBOUND"===e.mode?"Inbound":"Outbound"]})]}),l&&(0,a.jsx)(u.Z,{className:"h-4 w-4 text-teal-600 flex-shrink-0"})]},e.id)})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)(i.default,{href:"/dashboard/campaigns",passHref:!0,children:(0,a.jsxs)(y.z,{variant:"ghost",className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Back"})]})}),(0,a.jsxs)(y.z,{onClick:()=>c(2),disabled:!Y,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:["Next",(0,a.jsx)(v.Z,{className:"h-4 w-4 ml-2"})]})]})]})]}),2===d&&(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsx)(N.ll,{className:"text-slate-600",children:"Upload Leads"})}),(0,a.jsxs)(N.aY,{className:"space-y-4",children:[(0,a.jsx)(E,{onUpload:e=>{W(e)},onPreview:e=>{B({...A,leads:e})}}),A.leads.length>0&&(0,a.jsx)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u.Z,{className:"h-5 w-5 text-green-600"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:[(0,a.jsxs)("span",{className:"font-medium",children:[A.leads.length," leads"]})," will be imported"]})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(y.z,{variant:"ghost",onClick:()=>c(1),className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Back"})]})}),(0,a.jsxs)(y.z,{onClick:()=>c(3),disabled:!T,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:["Next",(0,a.jsx)(v.Z,{className:"h-4 w-4 ml-2"})]})]})]})]}),3===d&&(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsx)(N.ll,{className:"text-slate-600",children:"Schedule & Pacing"})}),(0,a.jsxs)(N.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Start Date (optional)"}),(0,a.jsx)(b.I,{type:"datetime-local",value:A.startDate,onChange:e=>B({...A,startDate:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"End Date (optional)"}),(0,a.jsx)(b.I,{type:"datetime-local",value:A.endDate,onChange:e=>B({...A,endDate:e.target.value})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Call Window"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,a.jsx)(b.I,{type:"time",value:A.callWindowStart,onChange:e=>B({...A,callWindowStart:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-xs text-muted-foreground",children:"End Time"}),(0,a.jsx)(b.I,{type:"time",value:A.callWindowEnd,onChange:e=>B({...A,callWindowEnd:e.target.value})})]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Daily Call Limit"}),(0,a.jsx)(b.I,{type:"number",min:"1",max:"1000",value:A.dailyCallLimit,onChange:e=>B({...A,dailyCallLimit:parseInt(e.target.value)||100})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Calls Per Hour (optional)"}),(0,a.jsx)(b.I,{type:"number",min:"1",max:"100",placeholder:"No limit",value:A.callsPerHour||"",onChange:e=>B({...A,callsPerHour:e.target.value?parseInt(e.target.value):null})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Seconds Between Calls"}),(0,a.jsx)(b.I,{type:"number",min:"10",max:"300",value:A.minCallInterval,onChange:e=>B({...A,minCallInterval:parseInt(e.target.value)||30})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Max Retry Attempts"}),(0,a.jsx)(b.I,{type:"number",min:"0",max:"10",value:A.maxRetryAttempts,onChange:e=>B({...A,maxRetryAttempts:parseInt(e.target.value)||3})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(w._,{className:"text-muted-foreground",children:"Retry Interval (seconds)"}),(0,a.jsx)(b.I,{type:"number",min:"300",max:"86400",value:A.retryInterval,onChange:e=>B({...A,retryInterval:parseInt(e.target.value)||3600})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(y.z,{variant:"ghost",onClick:()=>c(2),className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Back"})]})}),(0,a.jsxs)(y.z,{onClick:()=>c(4),disabled:!q,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:["Review",(0,a.jsx)(v.Z,{className:"h-4 w-4 ml-2"})]})]})]})]}),4===d&&(0,a.jsxs)(N.Zb,{children:[(0,a.jsx)(N.Ol,{children:(0,a.jsx)(N.ll,{className:"text-slate-600",children:"Review Campaign"})}),(0,a.jsxs)(N.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-slate-50 rounded-lg space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Campaign Name"}),(0,a.jsx)("p",{className:"font-medium text-slate-600",children:A.name})]}),A.description&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-slate-600",children:A.description})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Agent"}),(0,a.jsx)("p",{className:"font-medium text-slate-600",children:null==F?void 0:F.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Leads"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600",children:[A.leads.length," leads"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Call Window"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[A.callWindowStart," - ",A.callWindowEnd]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Daily Limit"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[A.dailyCallLimit," calls/day"]})]})]}),A.callsPerHour&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Rate Limit"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[A.callsPerHour," calls/hour"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Retry Settings"}),(0,a.jsxs)("p",{className:"text-sm text-slate-600",children:[A.maxRetryAttempts," attempts, ",Math.round(A.retryInterval/60)," min interval"]})]})]}),(0,a.jsx)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,a.jsx)("span",{className:"font-medium",children:"Estimated completion:"})," This campaign will be created as a draft. You can start it from the campaign detail page."]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-4",children:[(0,a.jsx)("div",{children:(0,a.jsxs)(y.z,{variant:"ghost",onClick:()=>c(3),className:"text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(j.Z,{className:"h-4 w-4 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Back"})]})}),(0,a.jsx)(y.z,{onClick:U,disabled:o,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):(0,a.jsx)(a.Fragment,{children:"Create Campaign"})})]})]})]})]})}},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(57437),l=s(2265),r=s(93448);let n=l.forwardRef((e,t)=>{let{className:s,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},75060:function(e,t,s){"use strict";s.d(t,{_:function(){return n}});var a=s(57437),l=s(2265),r=s(93448);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("label",{ref:t,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",s),...l})});n.displayName="Label"},23675:function(e,t,s){"use strict";s.d(t,{g:function(){return n}});var a=s(57437),l=s(2265),r=s(93448);let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...l})});n.displayName="Textarea"},94169:function(e,t,s){"use strict";s.d(t,{g7:function(){return o}});var a,l=s(2265),r=s(96923),n=s(57437),i=Symbol.for("react.lazy"),d=(a||(a=s.t(l,2)))[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var o=function(e){let t=function(e){let t=l.forwardRef((e,t)=>{let{children:s,...a}=e;if(c(s)&&"function"==typeof d&&(s=d(s._payload)),l.isValidElement(s)){var n;let e,i;let d=(n=s,(e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?n.props.ref:n.props.ref||n.ref),c=function(e,t){let s={...t};for(let a in t){let l=e[a],r=t[a];/^on[A-Z]/.test(a)?l&&r?s[a]=(...e)=>{let t=r(...e);return l(...e),t}:l&&(s[a]=l):"style"===a?s[a]={...l,...r}:"className"===a&&(s[a]=[l,r].filter(Boolean).join(" "))}return{...e,...s}}(a,s.props);return s.type!==l.Fragment&&(c.ref=t?(0,r.F)(t,d):d),l.cloneElement(s,c)}return l.Children.count(s)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),s=l.forwardRef((e,s)=>{let{children:a,...r}=e;c(a)&&"function"==typeof d&&(a=d(a._payload));let i=l.Children.toArray(a),o=i.find(u);if(o){let e=o.props.children,a=i.map(t=>t!==o?t:l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null);return(0,n.jsx)(t,{...r,ref:s,children:l.isValidElement(e)?l.cloneElement(e,void 0,a):null})}return(0,n.jsx)(t,{...r,ref:s,children:a})});return s.displayName=`${e}.Slot`,s}("Slot"),m=Symbol("radix.slottable");function u(e){return l.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===m}}},function(e){e.O(0,[225,145,648,92,452,971,117,744],function(){return e(e.s=29396)}),_N_E=e.O()}]);