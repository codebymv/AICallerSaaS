(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{72148:function(e,s,t){Promise.resolve().then(t.bind(t,14899))},32660:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},91723:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},89227:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]])},13041:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},33276:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},83229:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},95805:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},99376:function(e,s,t){"use strict";var a=t(35475);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},14899:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return M}});var a=t(57437),l=t(2265),n=t(99376),i=t(27648),r=t(33145),c=t(51817),d=t(32660),o=t(46211),m=t(15868),x=t(32489),h=t(83229),u=t(95805),p=t(89227),v=t(33276),f=t(92369),j=t(13041);let g=(0,t(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var N=t(91723),b=t(79820),y=t(12381),w=t(40279),C=t(75060),Z=t(23675),k=t(24561),E=t(33041),S=t(71837),I=t(23340),L=t(78705),P=t(93448);function M(){var e,s,t,M,z,A;let R=(0,n.useParams)(),_=(0,n.useRouter)(),{toast:W,dismiss:D}=(0,I.pm)(),F=R.id,[T,O]=(0,l.useState)(null),[H,Y]=(0,l.useState)([]),[V,B]=(0,l.useState)(!0),[G,q]=(0,l.useState)(!1),[U,K]=(0,l.useState)(!1),[J,Q]=(0,l.useState)(!1),[X,$]=(0,l.useState)(null),[ee,es]=(0,l.useState)({name:"",description:"",callWindowStart:"",callWindowEnd:"",dailyCallLimit:100,callsPerHour:null,minCallInterval:30,maxRetryAttempts:3,retryInterval:3600}),[et,ea]=(0,l.useState)(1),[el,en]=(0,l.useState)(!1),[ei,er]=(0,l.useState)("");(0,l.useEffect)(()=>{F&&(ec(),ed())},[F]),(0,l.useEffect)(()=>{if((null==T?void 0:T.status)==="ACTIVE"||(null==T?void 0:T.status)==="PENDING"){let e=setInterval(()=>{ec(),ed(1,ei)},3e4);return()=>clearInterval(e)}},[null==T?void 0:T.status,ei]),(0,l.useEffect)(()=>{T&&es({name:T.name,description:T.description||"",callWindowStart:T.callWindowStart||"09:00",callWindowEnd:T.callWindowEnd||"17:00",dailyCallLimit:T.dailyCallLimit||100,callsPerHour:T.callsPerHour,minCallInterval:T.minCallInterval||30,maxRetryAttempts:T.maxRetryAttempts||3,retryInterval:T.retryInterval||3600})},[T]),(0,l.useEffect)(()=>(F&&(ec(),ed(1,ei)),()=>{D()}),[F,ei]);let ec=async e=>{try{let s=await S.h.getCampaign(F,e);O(s.data)}catch(e){if("AbortError"===e.name||e instanceof S.M&&"ABORT_ERROR"===e.code){console.log("Campaign fetch aborted");return}W({title:"Error",description:e instanceof S.M?e.message:"Failed to load campaign",variant:"destructive"}),_.push("/dashboard/campaigns")}finally{B(!1)}},ed=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2?arguments[2]:void 0;q(!0);try{var a;let l=await S.h.getCampaignLeads(F,{page:e,limit:20,status:s||void 0},t);1===e?Y(l.data||[]):Y(e=>[...e,...l.data||[]]),en((null===(a=l.meta)||void 0===a?void 0:a.hasMore)||!1),ea(e)}catch(e){if("AbortError"===e.name||e instanceof S.M&&"ABORT_ERROR"===e.code){console.log("Leads fetch aborted");return}console.error("Failed to fetch leads:",e)}finally{q(!1)}},eo=async()=>{Q(!0);try{await S.h.updateCampaign(F,ee),W({title:"Campaign updated",description:"Your changes have been saved."}),K(!1),ec()}catch(e){W({title:"Error",description:e instanceof S.M?e.message:"Failed to update campaign",variant:"destructive"})}finally{Q(!1)}},em=()=>{K(!1),T&&es({name:T.name,description:T.description||"",callWindowStart:T.callWindowStart||"09:00",callWindowEnd:T.callWindowEnd||"17:00",dailyCallLimit:T.dailyCallLimit||100,callsPerHour:T.callsPerHour,minCallInterval:T.minCallInterval||30,maxRetryAttempts:T.maxRetryAttempts||3,retryInterval:T.retryInterval||3600})},ex=async()=>{$("start");try{await S.h.startCampaign(F),W({title:"Campaign started",description:"Calling leads now..."}),ec()}catch(e){W({title:"Error",description:e instanceof S.M?e.message:"Failed to start campaign",variant:"destructive"})}finally{$(null)}},eh=async()=>{$("pause");try{await S.h.pauseCampaign(F),W({title:"Campaign paused",description:"Calling has been paused."}),ec()}catch(e){W({title:"Error",description:e instanceof S.M?e.message:"Failed to pause campaign",variant:"destructive"})}finally{$(null)}},eu=async()=>{try{await S.h.deleteCampaign(F),W({title:"Campaign deleted",description:"Campaign has been removed."}),_.push("/dashboard/campaigns")}catch(e){throw W({title:"Error",description:e instanceof S.M?e.message:"Failed to delete campaign",variant:"destructive"}),e}},ep=async()=>{$("convert");try{let e=await S.h.convertSuccessfulLeadsToContacts(F);W({title:"Leads converted",description:e.message||"Successful leads have been added to contacts."})}catch(e){W({title:"Error",description:e instanceof S.M?e.message:"Failed to convert leads",variant:"destructive"})}finally{$(null)}};if(V)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-teal-600"})});if(!T)return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.default,{href:"/dashboard/campaigns",children:(0,a.jsx)(y.z,{variant:"ghost",size:"icon",className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(i.default,{href:"/dashboard/campaigns",children:(0,a.jsxs)(y.z,{variant:"ghost",size:"sm",className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]})})]}),(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-slate-600",children:"Campaign not found"})})})]});let ev=T.totalLeads>0?Math.round(T.leadsContacted/T.totalLeads*100):0,ef=T.callsCompleted>0?Math.round(T.callsSuccessful/T.callsCompleted*100):0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4 min-w-0 flex-1",children:[(0,a.jsxs)(i.default,{href:"/dashboard/campaigns",className:"flex-shrink-0",children:[(0,a.jsx)(y.z,{variant:"ghost",size:"icon",className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:(0,a.jsx)(d.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(y.z,{variant:"ghost",size:"sm",className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Back"]})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(o.Z,{className:"h-6 w-6 text-slate-600 flex-shrink-0"}),U?(0,a.jsx)(w.I,{value:ee.name,onChange:e=>es({...ee,name:e.target.value}),className:"text-xl sm:text-2xl font-bold h-auto py-1"}):(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-slate-600 truncate",title:T.name,children:T.name})]}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[T.totalLeads," leads"]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end",children:[!U&&(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:hidden",children:[(0,a.jsx)(y.z,{variant:"outline",size:"icon",onClick:()=>K(!0),className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:(0,a.jsx)(m.Z,{className:"h-4 w-4"})}),(0,a.jsx)(E.m,{onDelete:eu,itemName:T.name,title:"Delete Campaign",variant:"full"})]}),(0,a.jsx)("div",{className:"hidden sm:flex items-center gap-2 flex-wrap sm:flex-nowrap",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(y.z,{variant:"ghost",onClick:em,className:"text-slate-600 hover:text-slate-700 hover:bg-slate-100",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(y.z,{onClick:eo,disabled:J,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:[J?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}):(0,a.jsxs)(a.Fragment,{children:[T.callsSuccessful>0&&(0,a.jsxs)(y.z,{onClick:ep,disabled:"convert"===X,variant:"outline",className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:["convert"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Convert to Contacts"]}),(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>K(!0),className:"text-teal-600 hover:text-teal-700",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,a.jsx)(E.m,{onDelete:eu,itemName:T.name,title:"Delete Campaign",variant:"full"}),"COMPLETED"!==T.status&&"CANCELLED"!==T.status&&(0,a.jsx)(a.Fragment,{children:"ACTIVE"===T.status?(0,a.jsxs)(y.z,{onClick:eh,disabled:"pause"===X,className:"bg-amber-600 hover:bg-amber-700",children:["pause"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Pause"]}):(0,a.jsxs)(y.z,{onClick:ex,disabled:"start"===X,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:["start"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Start"]})})]})})]})]}),!U&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-2 sm:hidden",children:["COMPLETED"!==T.status&&"CANCELLED"!==T.status&&(0,a.jsx)(a.Fragment,{children:"ACTIVE"===T.status?(0,a.jsxs)(y.z,{onClick:eh,disabled:"pause"===X,className:"w-full bg-amber-600 hover:bg-amber-700",children:["pause"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Pause Campaign"]}):(0,a.jsxs)(y.z,{onClick:ex,disabled:"start"===X,className:"w-full bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:["start"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),"Start Campaign"]})}),T.callsSuccessful>0&&(0,a.jsxs)(y.z,{onClick:ep,disabled:"convert"===X,variant:"outline",className:"w-full text-teal-600 border-teal-600 hover:bg-teal-50",children:["convert"===X?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Convert to Contacts"]})]}),U&&(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:hidden",children:[(0,a.jsxs)(y.z,{variant:"ghost",onClick:em,className:"text-slate-600 hover:text-slate-700 hover:bg-slate-100",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(y.z,{onClick:eo,disabled:J,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:[J?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Save"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"pt-4 sm:pt-6 px-3 sm:px-6 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Leads"}),(0,a.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-slate-600",children:T.totalLeads})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 flex-shrink-0",children:(0,a.jsx)(f.Z,{className:"h-5 w-5"})})]})})}),(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"pt-4 sm:pt-6 px-3 sm:px-6 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Calls Made"}),(0,a.jsx)("p",{className:"text-lg sm:text-2xl font-bold text-slate-600",children:T.callsCompleted})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 flex-shrink-0",children:(0,a.jsx)(j.Z,{className:"h-5 w-5"})})]})})}),(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"pt-4 sm:pt-6 px-3 sm:px-6 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-lg sm:text-2xl font-bold text-slate-600",children:[ef,"%"]})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 flex-shrink-0",children:(0,a.jsx)(g,{className:"h-5 w-5"})})]})})}),(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"pt-4 sm:pt-6 px-3 sm:px-6 pb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Progress"}),(0,a.jsxs)("p",{className:"text-lg sm:text-2xl font-bold text-slate-600",children:[ev,"%"]})]}),(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-teal-100 flex items-center justify-center text-teal-600 flex-shrink-0",children:(0,a.jsx)(N.Z,{className:"h-5 w-5"})})]})})})]}),T.totalLeads>0&&(0,a.jsx)(b.Zb,{children:(0,a.jsx)(b.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Campaign Progress"}),(0,a.jsxs)("span",{className:"font-medium text-slate-600",children:[T.leadsContacted," / ",T.totalLeads," leads contacted"]})]}),(0,a.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-3",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-[#0fa693] to-teal-600 h-3 rounded-full transition-all",style:{width:"".concat(ev,"%")}})})]})})}),(0,a.jsxs)(b.Zb,{children:[(0,a.jsx)(b.Ol,{children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(b.ll,{className:"text-slate-600",children:"Campaign Configuration"}),(0,a.jsxs)(b.SZ,{children:["Settings and schedule ",(0,a.jsx)(k.M,{status:T.status})]})]})})}),(0,a.jsx)(b.aY,{className:"space-y-6",children:U?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Description"}),(0,a.jsx)(Z.g,{value:ee.description,onChange:e=>es({...ee,description:e.target.value}),rows:2})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Call Window"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{className:"text-xs text-muted-foreground",children:"Start Time"}),(0,a.jsx)(w.I,{type:"time",value:ee.callWindowStart,onChange:e=>es({...ee,callWindowStart:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{className:"text-xs text-muted-foreground",children:"End Time"}),(0,a.jsx)(w.I,{type:"time",value:ee.callWindowEnd,onChange:e=>es({...ee,callWindowEnd:e.target.value})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Daily Call Limit"}),(0,a.jsx)(w.I,{type:"number",min:"1",value:ee.dailyCallLimit,onChange:e=>es({...ee,dailyCallLimit:parseInt(e.target.value)||100})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Min Seconds Between Calls"}),(0,a.jsx)(w.I,{type:"number",min:"10",value:ee.minCallInterval,onChange:e=>es({...ee,minCallInterval:parseInt(e.target.value)||30})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Max Retry Attempts"}),(0,a.jsx)(w.I,{type:"number",min:"0",max:"10",value:ee.maxRetryAttempts,onChange:e=>es({...ee,maxRetryAttempts:parseInt(e.target.value)||3})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C._,{children:"Retry Interval (seconds)"}),(0,a.jsx)(w.I,{type:"number",min:"300",value:ee.retryInterval,onChange:e=>es({...ee,retryInterval:parseInt(e.target.value)||3600})})]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start gap-6 pb-6 border-b",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:(null===(e=L.Cy.find(e=>{var s;return e.id===(null===(s=T.agent)||void 0===s?void 0:s.voice)}))||void 0===e?void 0:e.avatar)?(0,a.jsx)(r.default,{src:L.Cy.find(e=>{var s;return e.id===(null===(s=T.agent)||void 0===s?void 0:s.voice)}).avatar,alt:(null===(s=T.agent)||void 0===s?void 0:s.name)||"Agent",width:80,height:80,className:"w-full h-full object-cover"}):(0,a.jsx)(f.Z,{className:"w-10 h-10 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Agent"}),(0,a.jsx)(i.default,{href:"/dashboard/agents/".concat(null===(t=T.agent)||void 0===t?void 0:t.id),children:(0,a.jsx)("p",{className:"font-medium text-lg text-slate-600 hover:text-teal-600 hover:underline",children:null===(M=T.agent)||void 0===M?void 0:M.name})}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Voice: ",(null===(z=L.Cy.find(e=>{var s;return e.id===(null===(s=T.agent)||void 0===s?void 0:s.voice)}))||void 0===z?void 0:z.name)||(null===(A=T.agent)||void 0===A?void 0:A.voice)]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Call Window"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600 mt-1",children:[T.callWindowStart||"00:00"," - ",T.callWindowEnd||"23:59"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Daily Limit"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600 mt-1",children:[T.dailyCallLimit," calls/day"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Call Interval"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600 mt-1",children:[T.minCallInterval,"s between calls"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Retry Settings"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600 mt-1",children:[T.maxRetryAttempts," attempts, ",Math.round(T.retryInterval/60),"min interval"]})]})]}),T.description&&(0,a.jsxs)("div",{className:"pt-4 border-t",children:[(0,a.jsx)(C._,{className:"text-muted-foreground",children:"Description"}),(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:T.description})]})]})})]}),(0,a.jsxs)(b.Zb,{children:[(0,a.jsx)(b.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(b.ll,{className:"text-slate-600",children:"Leads"}),(0,a.jsxs)(b.SZ,{children:[H.length," of ",T.totalLeads," total"]})]}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)("select",{value:ei,onChange:e=>{er(e.target.value),ed(1,e.target.value)},className:"text-sm border rounded-md px-3 py-1.5",children:[(0,a.jsx)("option",{value:"",children:"All Leads"}),(0,a.jsx)("option",{value:"PENDING",children:"Pending"}),(0,a.jsx)("option",{value:"CALLING",children:"Calling"}),(0,a.jsx)("option",{value:"COMPLETED",children:"Completed"}),(0,a.jsx)("option",{value:"FAILED",children:"Failed"}),(0,a.jsx)("option",{value:"SKIPPED",children:"Skipped"})]})})]})}),(0,a.jsx)(b.aY,{children:G&&0===H.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):0===H.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"No leads found"})}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"hidden sm:grid grid-cols-12 gap-4 px-4 py-2 bg-slate-50 rounded-lg text-xs font-medium text-muted-foreground",children:[(0,a.jsx)("div",{className:"col-span-3",children:"Name"}),(0,a.jsx)("div",{className:"col-span-3",children:"Phone"}),(0,a.jsx)("div",{className:"col-span-2",children:"Status"}),(0,a.jsx)("div",{className:"col-span-2",children:"Attempts"}),(0,a.jsx)("div",{className:"col-span-2",children:"Outcome"})]}),H.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"sm:hidden space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[e.name&&(0,a.jsx)("p",{className:"font-medium text-slate-600",children:e.name}),(0,a.jsx)("p",{className:"font-mono text-sm text-muted-foreground",children:(0,P.un)(e.phoneNumber)})]}),(0,a.jsx)(k.M,{status:e.status})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:[e.attempts," attempts"]}),e.outcome&&(0,a.jsx)("span",{className:"capitalize",children:e.outcome})]})]}),(0,a.jsxs)("div",{className:"hidden sm:grid grid-cols-12 gap-4 items-center",children:[(0,a.jsx)("div",{className:"col-span-3 truncate",children:(0,a.jsx)("p",{className:"font-medium text-slate-600 truncate",children:e.name||"—"})}),(0,a.jsx)("div",{className:"col-span-3",children:(0,a.jsx)("p",{className:"font-mono text-sm text-slate-600",children:(0,P.un)(e.phoneNumber)})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(k.M,{status:e.status})}),(0,a.jsxs)("div",{className:"col-span-2 text-sm text-muted-foreground",children:[e.attempts," / ",T.maxRetryAttempts]}),(0,a.jsx)("div",{className:"col-span-2 text-sm text-slate-600 capitalize",children:e.outcome||"—"})]}),e.notes&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t text-xs text-muted-foreground",children:e.notes})]},e.id)),el&&(0,a.jsx)("div",{className:"pt-4 text-center",children:(0,a.jsxs)(y.z,{variant:"outline",onClick:()=>ed(et+1,ei),disabled:G,className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:[G?(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Load More"]})})]})})]})]})}},40279:function(e,s,t){"use strict";t.d(s,{I:function(){return i}});var a=t(57437),l=t(2265),n=t(93448);let i=l.forwardRef((e,s)=>{let{className:t,type:l,...i}=e;return(0,a.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...i})});i.displayName="Input"},75060:function(e,s,t){"use strict";t.d(s,{_:function(){return i}});var a=t(57437),l=t(2265),n=t(93448);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("label",{ref:s,className:(0,n.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...l})});i.displayName="Label"},23675:function(e,s,t){"use strict";t.d(s,{g:function(){return i}});var a=t(57437),l=t(2265),n=t(93448);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});i.displayName="Textarea"}},function(e){e.O(0,[225,145,648,92,452,551,971,117,744],function(){return e(e.s=72148)}),_N_E=e.O()}]);