(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{33287:function(e,a,t){Promise.resolve().then(t.bind(t,22928))},99397:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82431:function(e,a,t){"use strict";t.d(a,{Z:function(){return s}});let s=(0,t(79205).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},22928:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return b}});var s=t(57437),l=t(2265),n=t(27648),i=t(33145),c=t(51817),r=t(46211),d=t(82431),o=t(99397),m=t(92369),h=t(15868),x=t(79820),u=t(12381),f=t(33041),g=t(54025),v=t(24561),j=t(71837),p=t(23340),N=t(78705);function b(){let{toast:e}=(0,p.pm)(),[a,t]=(0,l.useState)([]),[b,w]=(0,l.useState)(!0),[y,C]=(0,l.useState)(!1),k=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&C(!0);try{let e=await j.h.getCampaigns();t(e.data||[])}catch(e){console.error("Failed to fetch campaigns:",e)}finally{w(!1),C(!1)}};(0,l.useEffect)(()=>{k()},[]);let Z=async(a,t)=>{try{await j.h.deleteCampaign(a),e({title:"Campaign deleted",description:"".concat(t," has been deleted.")}),k()}catch(a){e({title:"Delete failed",description:a.message||"Failed to delete campaign.",variant:"destructive"})}};return b?(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)(c.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(r.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-600",children:"Campaigns"}),(0,s.jsx)("p",{className:"hidden sm:block text-muted-foreground text-sm",children:"Manage your outbound calling campaigns"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 sm:hidden",children:[(0,s.jsx)(u.z,{onClick:()=>k(!0),disabled:y,variant:"outline",size:"icon",className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:(0,s.jsx)(d.Z,{className:"h-4 w-4 ".concat(y?"animate-spin":"")})}),(0,s.jsx)(n.default,{href:"/dashboard/campaigns/new",children:(0,s.jsx)(u.z,{size:"icon",className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:(0,s.jsx)(o.Z,{className:"h-4 w-4"})})})]}),(0,s.jsxs)("div",{className:"hidden sm:flex gap-2",children:[(0,s.jsxs)(u.z,{onClick:()=>k(!0),disabled:y,variant:"outline",className:"text-teal-600 border-teal-600 hover:bg-teal-50",children:[(0,s.jsx)(d.Z,{className:"h-4 w-4 mr-2 ".concat(y?"animate-spin":"")}),"Refresh"]}),(0,s.jsx)(n.default,{href:"/dashboard/campaigns/new",children:(0,s.jsxs)(u.z,{className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:[(0,s.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"New Campaign"]})})]})]}),0===a.length?(0,s.jsx)(x.Zb,{children:(0,s.jsx)(x.aY,{children:(0,s.jsx)(g.u,{icon:r.Z,title:"No campaigns yet",description:"Create your first campaign to start making automated outbound calls to your leads.",action:{label:"Create Your First Campaign",onClick:()=>window.location.href="/dashboard/campaigns/new"}})})}):(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(e=>{var a,t,l;let c=e.totalLeads>0?Math.round(e.leadsContacted/e.totalLeads*100):0;return(0,s.jsxs)(x.Zb,{className:"hover:shadow-md transition-shadow",children:[(0,s.jsxs)(x.Ol,{className:"flex flex-row items-start justify-between space-y-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,s.jsx)(n.default,{href:"/dashboard/campaigns/".concat(e.id),className:"flex-shrink-0",children:(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center cursor-pointer hover:ring-2 hover:ring-teal-600 transition-all",children:(null===(a=N.Cy.find(a=>{var t;return a.id===(null===(t=e.agent)||void 0===t?void 0:t.voice)}))||void 0===a?void 0:a.avatar)?(0,s.jsx)(i.default,{src:N.Cy.find(a=>{var t;return a.id===(null===(t=e.agent)||void 0===t?void 0:t.voice)}).avatar,alt:(null===(t=N.Cy.find(a=>{var t;return a.id===(null===(t=e.agent)||void 0===t?void 0:t.voice)}))||void 0===t?void 0:t.name)||"Voice",width:48,height:48,className:"w-full h-full object-cover rounded-full"}):(0,s.jsx)(m.Z,{className:"h-6 w-6 text-slate-400"})})}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)(n.default,{href:"/dashboard/campaigns/".concat(e.id),children:(0,s.jsx)(x.ll,{className:"text-lg text-slate-600 hover:text-teal-600 hover:underline decoration-slate-300 hover:decoration-teal-600 underline-offset-2 transition-colors cursor-pointer truncate",children:e.name})}),(0,s.jsx)(x.SZ,{className:"line-clamp-1",children:(null===(l=e.agent)||void 0===l?void 0:l.name)||"No agent"})]})]}),(0,s.jsxs)("div",{className:"flex gap-1",children:[(0,s.jsx)(n.default,{href:"/dashboard/campaigns/".concat(e.id,"?edit=true"),children:(0,s.jsx)(u.z,{variant:"ghost",size:"icon",title:"Edit campaign",className:"text-teal-600 hover:text-teal-700",children:(0,s.jsx)(h.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(f.m,{onDelete:()=>Z(e.id,e.name),itemName:e.name,title:"Delete Campaign"})]})]}),(0,s.jsx)(x.aY,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(v.M,{status:e.status}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.totalLeads," leads"]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:"Progress"}),(0,s.jsxs)("span",{children:[c,"%"]})]}),(0,s.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-[#0fa693] to-teal-600 h-2 rounded-full transition-all",style:{width:"".concat(c,"%")}})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[(0,s.jsxs)("span",{className:"text-muted-foreground",children:[e.callsCompleted," calls"]}),(0,s.jsxs)("span",{className:"text-green-600 font-medium",children:[e.callsSuccessful," successful"]})]})]})})]},e.id)})})]})}},54025:function(e,a,t){"use strict";t.d(a,{u:function(){return i}});var s=t(57437),l=t(12381),n=t(99397);function i(e){let{icon:a,title:t,description:i,variant:c="page",action:r,children:d,className:o=""}=e,m="page"===c;return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-center ".concat(m?"py-16":"py-8 border rounded-lg bg-slate-50"," ").concat(o),children:[(0,s.jsx)(a,{className:"text-muted-foreground ".concat(m?"h-16 w-16 mb-4":"h-10 w-10 text-slate-400 mb-3")}),(0,s.jsx)("h3",{className:"".concat(m?"text-lg font-semibold text-slate-600 mb-2":"font-medium text-slate-600 mb-1"),children:t}),i&&(0,s.jsx)("p",{className:"text-muted-foreground ".concat(m?"max-w-md mb-6":"text-sm mb-4"),children:i}),r&&(0,s.jsxs)(l.z,{onClick:r.onClick,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:[r.icon?(0,s.jsx)(r.icon,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(n.Z,{className:"h-4 w-4 mr-2"}),r.label]}),d]})}}},function(e){e.O(0,[225,145,648,92,452,551,971,117,744],function(){return e(e.s=33287)}),_N_E=e.O()}]);