(()=>{var e={};e.id=425,e.ids=[425],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},59972:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>d}),t(6740),t(22834),t(48385),t(35866);var a=t(23191),l=t(88716),r=t(37922),n=t.n(r),i=t(95231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["dashboard",{children:["calls",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6740)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\calls\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,48385)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\calls\\[id]\\page.tsx"],x="/dashboard/calls/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/calls/[id]/page",pathname:"/dashboard/calls/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73887:(e,s,t)=>{Promise.resolve().then(t.bind(t,21016))},84361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},97147:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},24230:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},44713:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},41291:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},42887:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},74975:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},79635:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},21016:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var a=t(10326),l=t(17577),r=t(35047),n=t(90434),i=t(46226),c=t(84361),d=t(44713),o=t(97147),x=t(30361),m=t(69669),u=t(77506),h=t(41291),p=t(86333),f=t(42887),j=t(74603),g=t(74975),N=t(79635),v=t(50732),b=t(82200),y=t(24230),w=t(29752),k=t(91664),Z=t(18069),C=t(84097),S=t(53566),A=t(91799);let q=e=>{switch(e){case"INBOUND":return a.jsx(c.Z,{className:"h-3.5 w-3.5 text-teal-600"});case"OUTBOUND":return a.jsx(d.Z,{className:"h-3.5 w-3.5 text-teal-600"});case"HYBRID":return a.jsx(o.Z,{className:"h-3.5 w-3.5 text-teal-600"});default:return null}},D=e=>{if(!e)return null;let s=S.Cy.find(s=>s.id===e.toLowerCase());return s?.avatar||null},P=e=>e&&0!==e?`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`:"0:00",z=e=>{let s=new Date(e),t=s.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),a=s.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return`${t} at ${a}`},$=e=>{if(!e)return"Unknown";let s=e.replace(/\D/g,"");return 11===s.length&&s.startsWith("1")?`(${s.slice(1,4)}) ${s.slice(4,7)}-${s.slice(7)}`:e},O=e=>{switch(e){case"completed":return a.jsx(x.Z,{className:"h-5 w-5 text-green-500"});case"failed":return a.jsx(m.Z,{className:"h-5 w-5 text-red-500"});case"in-progress":return a.jsx(u.Z,{className:"h-5 w-5 text-blue-500 animate-spin"});case"ringing":return a.jsx(h.Z,{className:"h-5 w-5 text-yellow-500"});default:return a.jsx(h.Z,{className:"h-5 w-5 text-slate-500"})}},U=e=>S.yh[e]||S.yh.default;function _(){let e=(0,r.useParams)();(0,r.useRouter)();let{toast:s}=(0,C.pm)(),[t,o]=(0,l.useState)(null),[x,m]=(0,l.useState)(!0),[h,_]=(0,l.useState)(null),[M,I]=(0,l.useState)(!1),[R,T]=(0,l.useState)(""),[E,L]=(0,l.useState)(null),[F,J]=(0,l.useState)(null);e.id;let Y=e=>{T(e),I(!0)},B=async e=>{try{if(await Z.h.createContact(e),s({title:"Contact added",description:"The contact has been saved"}),I(!1),t){let e="inbound"===t.direction?t.from:t.to;if(e)try{let s=await Z.h.getContactByPhone(e);s.data&&_(s.data)}catch(e){}}}catch(e){throw s({title:"Error",description:e.message||"Failed to save contact",variant:"destructive"}),e}};if(x)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(u.Z,{className:"h-8 w-8 animate-spin text-teal-600"})});if(!t)return(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:(0,a.jsxs)(n.default,{href:"/dashboard/calls",children:[a.jsx(k.z,{variant:"ghost",size:"icon",className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:a.jsx(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(k.z,{variant:"ghost",size:"sm",className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Back to Calls"]})]})}),a.jsx(w.Zb,{children:(0,a.jsxs)(w.aY,{className:"flex flex-col items-center justify-center py-16",children:[a.jsx(f.Z,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"Call not found"}),a.jsx("p",{className:"text-muted-foreground text-center",children:"The call you're looking for doesn't exist or has been deleted."})]})})]});let H=t.agentVoice||t.agent?.voice,G=t.agentName||t.agent?.name,V=H?D(H):null;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(n.default,{href:"/dashboard/calls",children:[a.jsx(k.z,{variant:"ghost",size:"icon",className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:a.jsx(p.Z,{className:"h-4 w-4"})}),(0,a.jsxs)(k.z,{variant:"ghost",size:"sm",className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Back"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(j.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-600"}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-600",children:"Call Details"})]}),a.jsx("p",{className:"text-muted-foreground text-sm",children:z(t.startTime||t.createdAt)})]})]}),(0,a.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium ${U(t.status)}`,children:[O(t.status),t.status.charAt(0).toUpperCase()+t.status.slice(1).replace("-"," ")]})]}),(0,a.jsxs)("div",{className:"grid gap-4 sm:gap-6 md:grid-cols-2 w-full max-w-full",children:[(0,a.jsxs)(w.Zb,{className:"min-w-0 overflow-hidden",children:[a.jsx(w.Ol,{children:a.jsx(w.ll,{className:"text-lg text-slate-600",children:"Call Information"})}),(0,a.jsxs)(w.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 sm:p-4 bg-slate-50 rounded-lg",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${"inbound"===t.direction?S.zl.inbound.bg:S.zl.outbound.bg}`,children:"inbound"===t.direction?a.jsx(c.Z,{className:`h-5 w-5 ${S.zl.inbound.icon}`}):a.jsx(d.Z,{className:`h-5 w-5 ${S.zl.outbound.icon}`})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"inbound"===t.direction?"Inbound Call":"Outbound Call"}),h?(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-slate-600",children:h.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm flex-wrap",children:[a.jsx("span",{className:"font-mono text-muted-foreground",children:$(t.from)}),a.jsx("span",{className:"text-muted-foreground",children:"→"}),a.jsx("span",{className:"font-mono text-muted-foreground",children:$(t.to)})]})]}):a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex items-center gap-1 sm:gap-2 text-xs sm:text-sm flex-wrap",children:[a.jsx("span",{className:"font-mono text-slate-600",children:$(t.from)}),a.jsx("span",{className:"text-muted-foreground",children:"→"}),a.jsx("span",{className:"font-mono text-slate-600",children:$(t.to)}),a.jsx("button",{onClick:()=>{let e="inbound"===t.direction?t.from:t.to;e&&Y(e)},className:"text-slate-400 hover:text-teal-600 transition-colors",title:"Add to contacts",children:a.jsx(g.Z,{className:"h-4 w-4"})})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Duration"}),a.jsx("p",{className:"font-medium text-slate-600",children:P(t.duration||0)})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Date"}),a.jsx("p",{className:"font-medium text-sm text-slate-600",children:new Date(t.startTime||t.createdAt).toLocaleDateString()})]})]}),void 0!==t.costUsd&&Number(t.costUsd)>0&&(0,a.jsxs)("div",{className:"pt-2 border-t",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Estimated Cost"}),(0,a.jsxs)("p",{className:"font-medium text-slate-600",children:["$",Number(t.costUsd).toFixed(4)]})]})]})]}),(0,a.jsxs)(w.Zb,{className:"min-w-0 overflow-hidden",children:[a.jsx(w.Ol,{children:a.jsx(w.ll,{className:"text-lg text-slate-600",children:"AI Agent"})}),(0,a.jsxs)(w.aY,{children:[G||t.agent?t.agent&&E?a.jsx(n.default,{href:`/dashboard/agents/${t.agent.id}`,className:"flex items-center p-3 rounded-lg border hover:bg-slate-50 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:V?a.jsx(i.default,{src:V,alt:G||"Agent",width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(N.Z,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-slate-600 truncate",children:G}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:[E.totalCalls||0," calls",E.callPurpose&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"mx-1.5",children:"•"}),E.callPurpose]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end gap-1 ml-2 sm:ml-3",children:[a.jsx("span",{className:`px-2 py-1 text-xs rounded-full flex-shrink-0 ${E.isActive?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:E.isActive?"Active":"Inactive"}),E.mode&&S.jt[E.mode]&&(0,a.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground flex-shrink-0",children:[a.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-teal-100 flex-shrink-0",children:q(E.mode)}),a.jsx("span",{className:"hidden sm:inline",children:S.jt[E.mode].label})]})]})]})}):(0,a.jsxs)("div",{className:"flex items-center p-3 rounded-lg border bg-slate-50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:V?a.jsx(i.default,{src:V,alt:G||"Agent",width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(N.Z,{className:"h-5 w-5 text-slate-400"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-slate-600 truncate",children:G}),H&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground capitalize truncate",children:["Voice: ",H]})]})]}),a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-100 text-slate-600 flex-shrink-0 ml-3",children:"Deleted"})]}):(0,a.jsxs)("div",{className:"flex items-center gap-4 text-muted-foreground p-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx(v.Z,{className:"h-5 w-5"})}),a.jsx("p",{className:"text-sm",children:"Agent information unavailable"})]}),t.recordingUrl&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:F?(0,a.jsxs)("audio",{controls:!0,className:"w-full",children:[a.jsx("source",{src:F,type:"audio/mpeg"}),"Your browser does not support the audio element."]},F):(0,a.jsxs)("div",{className:"flex items-center justify-center py-4",children:[a.jsx(u.Z,{className:"h-5 w-5 animate-spin text-teal-600"}),a.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading recording..."})]})})]})]}),t.campaignData?.campaign&&(0,a.jsxs)(w.Zb,{className:"min-w-0 overflow-hidden",children:[a.jsx(w.Ol,{children:a.jsx(w.ll,{className:"text-lg text-slate-600",children:"Campaign"})}),a.jsx(w.aY,{children:(0,a.jsxs)(n.default,{href:`/dashboard/campaigns/${t.campaignData.campaign.id}`,className:"flex items-center p-3 rounded-lg border hover:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:a.jsx(b.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-slate-600 truncate",children:t.campaignData.campaign.name}),t.campaignData.lead?.name&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:["Lead: ",t.campaignData.lead.name]})]})]}),a.jsx(y.Z,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})]})]}),t.transcript&&(0,a.jsxs)(w.Zb,{children:[a.jsx(w.Ol,{children:a.jsx(w.ll,{className:"text-lg text-slate-600",children:"Transcript"})}),a.jsx(w.aY,{children:a.jsx("div",{className:"bg-slate-50 rounded-lg p-4 max-h-[400px] overflow-y-auto",children:Array.isArray(t.transcript)?a.jsx("div",{className:"space-y-3",children:t.transcript.map((e,s)=>a.jsx("div",{className:`flex gap-3 ${"assistant"===e.role?"justify-start":"justify-end"}`,children:(0,a.jsxs)("div",{className:`max-w-[80%] p-3 rounded-lg text-sm ${"assistant"===e.role?"bg-white border":"bg-teal-100 text-teal-900"}`,children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-1 capitalize",children:e.role||"Unknown"}),a.jsx("p",{children:e.content||e.text||JSON.stringify(e)})]})},s))}):"string"==typeof t.transcript?a.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:t.transcript}):a.jsx("pre",{className:"whitespace-pre-wrap text-sm font-mono",children:JSON.stringify(t.transcript,null,2)})})})]}),t.summary&&(0,a.jsxs)(w.Zb,{children:[(0,a.jsxs)(w.Ol,{children:[a.jsx(w.ll,{className:"text-lg text-slate-600",children:"Call Summary"}),t.sentiment&&(0,a.jsxs)(w.SZ,{children:["Sentiment: ",a.jsx("span",{className:"capitalize",children:t.sentiment})]})]}),a.jsx(w.aY,{children:a.jsx("p",{className:"text-sm",children:t.summary})})]}),a.jsx(A.N,{open:M,onClose:()=>{I(!1),T("")},onSave:B,initialPhoneNumber:R})]})}},91799:(e,s,t)=>{"use strict";t.d(s,{N:()=>m});var a=t(10326),l=t(17577),r=t(60962),n=t(91664),i=t(41190),c=t(44794),d=t(24061),o=t(94019),x=t(77506);function m({open:e,onClose:s,onSave:t,contact:m,initialPhoneNumber:u}){let[h,p]=(0,l.useState)(""),[f,j]=(0,l.useState)(""),[g,N]=(0,l.useState)(""),[v,b]=(0,l.useState)(!1),[y,w]=(0,l.useState)(!1),k=e=>{let s=e.replace(/\D/g,"");return s.length<=3?s:s.length<=6?`(${s.slice(0,3)}) ${s.slice(3)}`:s.length<=10?`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6)}`:`+1 (${s.slice(1,4)}) ${s.slice(4,7)}-${s.slice(7,11)}`},Z=async e=>{if(e.preventDefault(),h.trim()&&f.trim()){b(!0);try{await t({name:h.trim(),phoneNumber:f.trim(),notes:g.trim()||void 0})}finally{b(!1)}}};if(!e||!y)return null;let C=(0,a.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:s}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(d.Z,{className:"h-5 w-5 text-slate-600"}),a.jsx("h2",{className:"text-lg font-semibold text-slate-600",children:m?"Edit Contact":"Add Contact"})]}),a.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:a.jsx(o.Z,{className:"h-5 w-5 text-slate-500"})})]}),(0,a.jsxs)("form",{onSubmit:Z,className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c._,{htmlFor:"name",className:"text-muted-foreground",children:["Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(i.I,{id:"name",placeholder:"John Smith",value:h,onChange:e=>p(e.target.value),required:!0,autoFocus:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c._,{htmlFor:"phone",className:"text-muted-foreground",children:["Phone Number ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(i.I,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:f,onChange:e=>{j(k(e.target.value))},required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(c._,{htmlFor:"notes",className:"text-muted-foreground",children:"Notes"}),a.jsx("textarea",{id:"notes",placeholder:"Add any notes about this contact...",value:g,onChange:e=>N(e.target.value),rows:3,className:"w-full px-3 py-2 border rounded-md text-sm resize-none focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[a.jsx(n.z,{type:"button",variant:"outline",onClick:s,className:"flex-1",disabled:v,children:"Cancel"}),a.jsx(n.z,{type:"submit",className:"flex-1 bg-teal-600 hover:bg-teal-700",disabled:v||!h.trim()||!f.trim(),children:v?(0,a.jsxs)(a.Fragment,{children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):m?"Save Changes":"Add Contact"})]})]})]})]});return(0,r.createPortal)(C,document.body)}},41190:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var a=t(10326),l=t(17577),r=t(51223);let n=l.forwardRef(({className:e,type:s,...t},l)=>a.jsx("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...t}));n.displayName="Input"},44794:(e,s,t)=>{"use strict";t.d(s,{_:()=>n});var a=t(10326),l=t(17577),r=t(51223);let n=l.forwardRef(({className:e,...s},t)=>a.jsx("label",{ref:t,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...s}));n.displayName="Label"},6740:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`C:\Users\roxas\OneDrive\Desktop\PROJECTS\AICallerSaaS\frontend\src\app\dashboard\calls\[id]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[731,285,468,99,620,320],()=>t(59972));module.exports=a})();