(()=>{var e={};e.id=537,e.ids=[537],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},28806:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),a(8729),a(22834),a(48385),a(35866);var s=a(23191),l=a(88716),r=a(37922),n=a.n(r),i=a(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let o=["",{children:["dashboard",{children:["agents",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8729)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\agents\\new\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22834)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,48385)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\agents\\new\\page.tsx"],m="/dashboard/agents/new/page",u={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/agents/new/page",pathname:"/dashboard/agents/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},94270:(e,t,a)=>{Promise.resolve().then(a.bind(a,70718))},84361:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},97147:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},86333:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},44713:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},6507:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},37358:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},32933:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},941:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},41291:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},63062:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},48238:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},36283:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},71709:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},49163:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]])},9015:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},42887:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1572:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},69508:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},49758:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});let s=(0,a(62881).Z)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},70718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var s=a(10326),l=a(17577),r=a(35047),n=a(90434),i=a(29752),d=a(91664),o=a(41190),c=a(44794),m=a(18069),u=a(84097),x=a(53566),h=a(36913),p=a(84361),g=a(44713),f=a(97147),b=a(37358),N=a(63062),v=a(48238),j=a(6507);let y=(0,a(62881).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var w=a(69508),k=a(42887),E=a(40617),C=a(49163),S=a(50732),I=a(32933),P=a(1572),T=a(86333),R=a(59734),Z=a(941),A=a(88378),O=a(41291),M=a(9015),_=a(71709),L=a(36283),D=a(49758),z=a(32003);let G=e=>{switch(e){case"INBOUND":return s.jsx(p.Z,{className:"h-4 w-4 text-teal-600"});case"OUTBOUND":return s.jsx(g.Z,{className:"h-4 w-4 text-teal-600"});case"HYBRID":return s.jsx(f.Z,{className:"h-4 w-4 text-teal-600"});default:return null}},q=e=>{let t="h-3 w-3 text-teal-600";switch(e){case"SCHEDULE_APPOINTMENTS":return s.jsx(b.Z,{className:t});case"ANSWER_SUPPORT":return s.jsx(N.Z,{className:t});case"COLLECT_INFO":return s.jsx(v.Z,{className:t});case"SEND_REMINDERS":return s.jsx(j.Z,{className:t});case"GENERAL_INQUIRIES":return s.jsx(y,{className:t});case"CUSTOM":return s.jsx(w.Z,{className:t});default:return null}},$=e=>{let t="h-4 w-4 text-teal-600";switch(e){case"VOICE_ONLY":return s.jsx(k.Z,{className:t});case"MESSAGING_ONLY":return s.jsx(E.Z,{className:t});case"OMNICHANNEL":return s.jsx(C.Z,{className:t});default:return null}},F=e=>{let t=e.replace(/\D/g,"");return 11===t.length&&t.startsWith("1")?`(${t.slice(1,4)}) ${t.slice(4,7)}-${t.slice(7)}`:e},H=[{id:"mode-default",name:"Mode-Optimized",description:"Auto-generated prompt optimized for your selected mode",prompt:"",isDefault:!0},{id:"custom",name:"Custom Agent",description:"Start from scratch with your own prompt",prompt:""}];function U(){let e=(0,r.useRouter)(),{toast:t}=(0,u.pm)(),[a,p]=(0,l.useState)(1),[g,f]=(0,l.useState)(!1),[N,v]=(0,l.useState)(!1),[j,y]=(0,l.useState)(null),[w,E]=(0,l.useState)([]),[C,U]=(0,l.useState)(!1),[B,V]=(0,l.useState)([]),[W,Y]=(0,l.useState)(""),[J,Q]=(0,l.useState)(!0),[X,K]=(0,l.useState)(!1),[ee,et]=(0,l.useState)(!1),ea=(0,l.useRef)(null),[es,el]=(0,l.useState)(!1),er=(0,l.useRef)(null),[en,ei]=(0,l.useState)("FREE"),ed=(0,z.y3)(en,"HYBRID_MODE"),[eo,ec]=(0,l.useState)({name:"",template:"mode-default",systemPrompt:(0,x.fn)("INBOUND",!1),voiceId:x.Cy[0].id,voiceSettings:null,greeting:"",mode:"INBOUND",communicationChannel:"VOICE_ONLY",outboundGreeting:"",callTimeout:600,retryAttempts:0,callWindowStart:"",callWindowEnd:"",calendarEnabled:!1,calendarIntegrationId:"",calendarScopes:["read_calendar","create_events","reschedule_events"],defaultEventTypeId:"",defaultEventTypeName:"",defaultEventDuration:30,callPurposeType:"SCHEDULE_APPOINTMENTS",callPurpose:x.mN.SCHEDULE_APPOINTMENTS.value,messagingGreeting:"",imageToolEnabled:!1,documentToolEnabled:!1,videoToolEnabled:!1}),[em,eu]=(0,l.useState)(null),ex=()=>{let e=x.Cy.find(e=>e.id===eo.voiceId)?.name;if(em?.organizationName||e||eo.callPurpose)return{organizationName:em?.organizationName||void 0,industry:em?.industry||void 0,businessDescription:em?.businessDescription||void 0,personaName:e||void 0,callPurpose:eo.callPurpose||void 0}},eh=e=>{ec(t=>{let a={mode:e};return"mode-default"===t.template&&(a.systemPrompt=(0,x.fn)(e,N,ex(),t.communicationChannel)),{...t,...a}})},ep=e=>{ec(t=>{let a={communicationChannel:e};return"mode-default"===t.template&&(a.systemPrompt=(0,x.fn)(t.mode,N,ex(),e)),{...t,...a}})},eg=e=>{let t=H.find(t=>t.id===e);ec(a=>{let s={template:e};return"mode-default"===e?s.systemPrompt=(0,x.fn)(a.mode,N,ex(),a.communicationChannel):t&&(s.systemPrompt=t.prompt),{...a,...s}})},ef=H.find(e=>e.id===eo.template),eb=async()=>{if(!eo.name.trim()){t({title:"Name required",description:"Please enter a name for your agent.",variant:"destructive"});return}let a=eo.systemPrompt||ef?.prompt;if(!a?.trim()){t({title:"Prompt required",description:"Please enter a system prompt.",variant:"destructive"});return}f(!0);try{let s=(0,x.Vt)(eo.communicationChannel),l=(await m.h.createAgent({name:eo.name,systemPrompt:a,voiceId:s?eo.voiceId:void 0,voiceSettings:s&&eo.voiceSettings||void 0,greeting:s?eo.greeting:void 0,template:"custom"!==eo.template?eo.template:void 0,mode:eo.mode,communicationChannel:eo.communicationChannel,outboundGreeting:s&&eo.outboundGreeting||void 0,callTimeout:eo.callTimeout,retryAttempts:eo.retryAttempts,callWindowStart:eo.callWindowStart||void 0,callWindowEnd:eo.callWindowEnd||void 0,calendarEnabled:eo.calendarEnabled,calendarIntegrationId:eo.calendarEnabled&&eo.calendarIntegrationId||void 0,calendarScopes:eo.calendarEnabled?eo.calendarScopes:void 0,defaultEventTypeId:eo.calendarEnabled&&eo.defaultEventTypeId||void 0,defaultEventTypeName:eo.calendarEnabled&&eo.defaultEventTypeName||void 0,defaultEventDuration:eo.calendarEnabled?eo.defaultEventDuration:void 0,personaName:s&&x.Cy.find(e=>e.id===eo.voiceId)?.name||void 0,callPurpose:eo.callPurpose||void 0,messagingGreeting:(0,x.TR)(eo.communicationChannel)&&eo.messagingGreeting||void 0,imageToolEnabled:!!(0,x.TR)(eo.communicationChannel)&&eo.imageToolEnabled,documentToolEnabled:!!(0,x.TR)(eo.communicationChannel)&&eo.documentToolEnabled,videoToolEnabled:!!(0,x.TR)(eo.communicationChannel)&&eo.videoToolEnabled})).data.id;if(W)try{await m.h.updatePhoneNumber(W,{agentId:l})}catch(a){console.error("Failed to assign phone number:",a),t({title:"Agent created with warning",description:`${eo.name} was created but phone number assignment failed. You can assign it in Settings.`}),e.push(`/dashboard/agents/${l}`);return}t({title:"Agent created!",description:`${eo.name} is ready to use.`}),e.push(`/dashboard/agents/${l}`)}catch(e){t({title:"Error",description:e instanceof m.M?e.message:"Failed to create agent",variant:"destructive"})}finally{f(!1)}};return(0,s.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx(S.Z,{className:"h-8 w-8 text-slate-600"}),s.jsx("h1",{className:"text-3xl font-bold text-slate-600",children:"Create New Agent"}),s.jsx("span",{className:"hidden sm:inline text-slate-400",children:"â€¢"}),s.jsx("p",{className:"text-muted-foreground w-full sm:w-auto",children:"Build an AI voice agent step by step"})]}),s.jsx("div",{className:"flex items-center justify-between",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center flex-1",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-colors ${e===a?"bg-gradient-to-b from-[#0fa693] to-teal-600 text-white":e<a?"bg-teal-100 text-teal-600":"bg-slate-100 text-slate-400"}`,children:e<a?s.jsx(I.Z,{className:"h-4 w-4"}):e}),e<3&&s.jsx("div",{className:`flex-1 h-1 mx-2 transition-colors ${e<a?"bg-teal-600":"bg-slate-200"}`})]},e))}),1===a&&(0,s.jsxs)(i.Zb,{children:[s.jsx(i.Ol,{children:s.jsx(i.ll,{className:"text-slate-600",children:"Choose a Template"})}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:H.map(e=>(0,s.jsxs)("button",{className:`p-4 border rounded-lg text-left hover:border-teal-400 transition-colors ${eo.template===e.id?"border-teal-500 bg-teal-50":""}`,onClick:()=>eg(e.id),children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1 sm:gap-2",children:[s.jsx("h3",{className:"font-semibold text-slate-600",children:e.name}),"isDefault"in e&&e.isDefault&&(0,s.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs bg-teal-100 text-teal-700 w-fit",children:[s.jsx(P.Z,{className:"h-3 w-3 mr-1"}),"Recommended"]})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.description})]},e.id))}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>e.push("/dashboard/agents"),className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:s.jsx(T.Z,{className:"h-4 w-4"})}),(0,s.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>e.push("/dashboard/agents"),className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[s.jsx(T.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx(d.z,{onClick:()=>p(2),className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:"Continue"})]})]})]}),2===a&&(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[s.jsx(i.ll,{className:"text-slate-600",children:"Basic Information"}),s.jsx(i.SZ,{children:"Set up your agent's identity and behavior"})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"name",className:"text-muted-foreground",children:"Agent Name *"}),s.jsx(o.I,{id:"name",placeholder:"e.g., Sales Assistant",value:eo.name,onChange:e=>ec({...eo,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Organization *"}),em?.organizationName?(0,s.jsxs)("div",{className:"relative",ref:er,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>el(!es),className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md w-full justify-between transition-colors border-teal-500 bg-teal-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2.5 min-w-0",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:s.jsx(R.Z,{className:"h-4 w-4 text-teal-600"})}),s.jsx("span",{className:"font-medium text-slate-600",children:em.organizationName})]}),s.jsx(Z.Z,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ${es?"rotate-180":""}`})]}),es&&s.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-md shadow-lg py-1",children:(0,s.jsxs)("div",{className:"px-3 py-2 text-sm text-slate-600",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(R.Z,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{className:"font-medium",children:em.organizationName})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From Organization Profile"}),(0,s.jsxs)(n.default,{href:"/dashboard/settings?tab=preferences",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:underline",onClick:()=>el(!1),children:[s.jsx(A.Z,{className:"h-3 w-3"}),"Update in Settings"]})]})})]}):s.jsx(n.default,{href:"/dashboard/settings?tab=preferences",className:"block",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md w-full border-amber-300 bg-amber-50 hover:border-amber-400 transition-colors",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0",children:s.jsx(O.Z,{className:"h-4 w-4 text-amber-600"})}),(0,s.jsxs)("div",{className:"flex-1 text-left",children:[s.jsx("span",{className:"font-medium text-amber-800",children:"Not configured"}),s.jsx("p",{className:"text-xs text-amber-700 mt-0.5",children:"Click to set up your organization profile in Settings"})]})]})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Phone Number *"}),J?s.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading phone numbers..."}):X?0===B.length?(0,s.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-slate-100 border border-slate-200 rounded-md",children:[s.jsx(k.Z,{className:"h-4 w-4 text-slate-500 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-slate-600",children:"No phone numbers available"}),s.jsx("p",{className:"text-xs text-slate-600 mt-1",children:"Import phone numbers from your Twilio account to assign to this agent."}),(0,s.jsxs)(n.default,{href:"/dashboard/settings",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:underline",children:[s.jsx(A.Z,{className:"h-3 w-3"}),"Manage Phone Numbers"]})]})]}):s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative",ref:ea,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>et(!ee),className:`flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md w-full justify-between transition-colors ${W?"border-teal-500 bg-teal-50":"bg-white hover:bg-slate-50"}`,children:[s.jsx("div",{className:"flex items-center gap-2.5 min-w-0",children:W?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:s.jsx(k.Z,{className:"h-4 w-4 text-teal-600"})}),s.jsx("span",{className:"font-medium text-slate-600",children:F(B.find(e=>e.id===W)?.phoneNumber||"")})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:s.jsx(k.Z,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx("span",{className:"text-muted-foreground",children:"Select a phone number"})]})}),s.jsx(Z.Z,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ${ee?"rotate-180":""}`})]}),ee&&(0,s.jsxs)("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-md shadow-lg py-1 max-h-60 overflow-auto",children:[B.map(e=>{let t=e.agent&&e.agent.id,a=e.id===W;return(0,s.jsxs)("button",{type:"button",onClick:()=>{Y(e.id),et(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left ${a?"bg-teal-50":""}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 ${t?"bg-amber-100":"bg-teal-100"}`,children:s.jsx(k.Z,{className:`h-4 w-4 ${t?"text-amber-600":"text-teal-600"}`})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("span",{className:"font-medium block truncate",children:F(e.phoneNumber)}),t&&(0,s.jsxs)("span",{className:"text-xs text-amber-600 block",children:["Currently assigned to: ",e.agent?.name]}),a&&s.jsx("span",{className:"text-xs text-teal-600 block",children:"Selected"})]})]},e.id)}),s.jsx("div",{className:"border-t mt-1 pt-1",children:(0,s.jsxs)(n.default,{href:"/dashboard/settings",className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50",onClick:()=>et(!1),children:[s.jsx(A.Z,{className:"h-4 w-4 text-teal-600"}),s.jsx("span",{className:"text-xs text-teal-600 hover:underline",children:"Manage Phone Numbers"})]})})]})]})}):(0,s.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-md",children:[s.jsx(O.Z,{className:"h-4 w-4 text-amber-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-amber-800",children:"Twilio not configured"}),s.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"Configure your Twilio credentials in Settings to enable phone number assignment."}),(0,s.jsxs)(n.default,{href:"/dashboard/settings",className:"inline-flex items-center gap-1 mt-2 text-xs text-teal-600 hover:underline",children:[s.jsx(A.Z,{className:"h-3 w-3"}),"Go to Settings"]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Communication Channel *"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(x.sR).map(([e,a])=>{let l=eo.communicationChannel===e,r="OMNICHANNEL"===e&&!ed;return(0,s.jsxs)("button",{type:"button",disabled:r,className:`relative p-3 border rounded-lg text-left transition-colors ${l?"border-teal-500 bg-teal-50":r?"opacity-60 cursor-not-allowed bg-slate-50 border-slate-200":"hover:border-teal-500"}`,onClick:()=>{r?t({title:"Upgrade Required",description:"Omnichannel is available on Professional plans and above.",variant:"destructive"}):ep(e)},children:[r&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(M.Z,{className:"h-3 w-3 text-slate-400"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center ${r?"bg-slate-200":"bg-teal-100"}`,children:$(e)}),s.jsx("h3",{className:`font-semibold text-xs ${r?"text-slate-500":"text-slate-600"}`,children:a.label})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:a.description})]},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Agent Mode *"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2",children:Object.entries(x.jt).map(([e,a])=>{let l=eo.mode===e,r="HYBRID"===e&&!ed;return(0,s.jsxs)("button",{type:"button",disabled:r,className:`relative p-3 border rounded-lg text-left transition-colors ${l?"border-teal-500 bg-teal-50":r?"opacity-60 cursor-not-allowed bg-slate-50 border-slate-200":"hover:border-teal-500"}`,onClick:()=>{r?t({title:"Upgrade Required",description:"Hybrid mode is available on Professional plans and above.",variant:"destructive"}):eh(e)},children:[r&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(M.Z,{className:"h-3 w-3 text-slate-400"})}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center ${r?"bg-slate-200":"bg-teal-100"}`,children:G(e)}),s.jsx("h3",{className:`font-semibold text-xs ${r?"text-slate-500":"text-slate-600"}`,children:a.label})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:(0,x.iA)(e,eo.communicationChannel)})]},e)})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Call Purpose *"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries(x.mN).map(([e,t])=>{let a=eo.callPurposeType===e;return(0,s.jsxs)("button",{type:"button",onClick:()=>{let a="CUSTOM"===e?"":t.value;ec(t=>({...t,callPurposeType:e,callPurpose:a})),"mode-default"===eo.template&&"CUSTOM"!==e&&setTimeout(()=>{ec(e=>({...e,systemPrompt:(0,x.fn)(e.mode,N,{...ex(),callPurpose:a})}))},0)},className:`p-3 border rounded-lg text-left hover:border-teal-400 transition-colors ${a?"border-teal-500 bg-teal-50":""}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"w-5 h-5 rounded-full flex items-center justify-center bg-teal-100",children:q(e)}),s.jsx("h3",{className:"font-semibold text-xs text-slate-600",children:t.label})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t.description})]},e)})}),"CUSTOM"===eo.callPurposeType&&s.jsx(o.I,{id:"callPurpose",placeholder:"Enter your custom call purpose...",value:eo.callPurpose,onChange:e=>{ec({...eo,callPurpose:e.target.value}),"mode-default"===eo.template&&setTimeout(()=>{ec(t=>({...t,systemPrompt:(0,x.fn)(t.mode,N,{...ex(),callPurpose:e.target.value})}))},0)},className:"mt-3"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>p(1),className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:s.jsx(T.Z,{className:"h-4 w-4"})}),(0,s.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>p(1),className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[s.jsx(T.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx(d.z,{onClick:()=>p(3),disabled:!eo.name.trim(),className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:"Continue"})]})]})]}),3===a&&(0,s.jsxs)(i.Zb,{children:[(0,s.jsxs)(i.Ol,{children:[s.jsx(i.ll,{className:"text-slate-600",children:"MESSAGING_ONLY"===eo.communicationChannel?"Behavior & Messaging":"Behavior & Voice"}),s.jsx(i.SZ,{children:"MESSAGING_ONLY"===eo.communicationChannel?"Configure how your agent responds via text":"Configure how your agent talks and responds"})]}),(0,s.jsxs)(i.aY,{className:"space-y-4",children:[(0,x.Vt)(eo.communicationChannel)&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"voice",className:"text-muted-foreground",children:"Voice *"}),s.jsx(h.$,{value:eo.voiceId,onChange:e=>ec({...eo,voiceId:e}),userPlan:en})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"prompt",className:"text-muted-foreground",children:"System Prompt *"}),s.jsx("textarea",{id:"prompt",className:"w-full min-h-[200px] p-3 border rounded-md text-sm",placeholder:"MESSAGING_ONLY"===eo.communicationChannel?"Describe how your agent should respond to text messages...":"Describe how your agent should behave...",value:eo.systemPrompt||ef?.prompt||"",onChange:e=>ec({...eo,systemPrompt:e.target.value})})]}),(0,x.Vt)(eo.communicationChannel)&&("INBOUND"===eo.mode||"HYBRID"===eo.mode)&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"greeting",className:"text-muted-foreground",children:"Inbound Greeting (optional)"}),s.jsx(o.I,{id:"greeting",placeholder:`e.g., Hi, this is ${x.Cy.find(e=>e.id===eo.voiceId)?.name||"your assistant"}. How can I help you today?`,value:eo.greeting,onChange:e=>ec({...eo,greeting:e.target.value})})]}),(0,x.Vt)(eo.communicationChannel)&&("OUTBOUND"===eo.mode||"HYBRID"===eo.mode)&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"outboundGreeting",className:"text-muted-foreground",children:"Outbound Greeting (optional)"}),s.jsx(o.I,{id:"outboundGreeting",placeholder:`e.g., Hi, this is ${x.Cy.find(e=>e.id===eo.voiceId)?.name||"your assistant"} calling from ${em?.organizationName||"[company]"}...`,value:eo.outboundGreeting,onChange:e=>ec({...eo,outboundGreeting:e.target.value})})]}),(0,x.TR)(eo.communicationChannel)&&s.jsx(s.Fragment,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{htmlFor:"messagingGreeting",className:"text-muted-foreground",children:"SMS Greeting (optional)"}),s.jsx(o.I,{id:"messagingGreeting",placeholder:`e.g., Hi! This is ${em?.organizationName||"[Company]"}. How can I help you today?`,value:eo.messagingGreeting,onChange:e=>ec({...eo,messagingGreeting:e.target.value})})]})}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground",children:"MESSAGING_ONLY"===eo.communicationChannel?"Message Window (optional)":"OMNICHANNEL"===eo.communicationChannel?"Communications Window (optional)":"Call Window (optional)"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"From"}),s.jsx(o.I,{id:"callWindowStart",type:"time",placeholder:"Start time",value:eo.callWindowStart,onChange:e=>ec({...eo,callWindowStart:e.target.value}),className:"flex-1 [&::-webkit-calendar-picker-indicator]:opacity-100 [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[.5] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:saturate-[10] [&::-webkit-calendar-picker-indicator]:hue-rotate-[130deg]"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"To"}),s.jsx(o.I,{id:"callWindowEnd",type:"time",placeholder:"End time",value:eo.callWindowEnd,onChange:e=>ec({...eo,callWindowEnd:e.target.value}),className:"flex-1 [&::-webkit-calendar-picker-indicator]:opacity-100 [&::-webkit-calendar-picker-indicator]:brightness-0 [&::-webkit-calendar-picker-indicator]:saturate-100 [&::-webkit-calendar-picker-indicator]:invert-[.5] [&::-webkit-calendar-picker-indicator]:sepia-[1] [&::-webkit-calendar-picker-indicator]:saturate-[10] [&::-webkit-calendar-picker-indicator]:hue-rotate-[130deg]"})]})]})]}),(N||(0,x.TR)(eo.communicationChannel))&&(0,s.jsxs)("div",{className:"space-y-3",children:[s.jsx(c._,{className:"text-muted-foreground",children:"Tool Access (optional)"}),N&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:eo.calendarEnabled,onChange:e=>{let t=e.target.checked;ec(e=>({...e,calendarEnabled:t,systemPrompt:"mode-default"===e.template?(0,x.fn)(e.mode,t):e.systemPrompt}))},className:"mt-0.5 h-4 w-4 rounded border-gray-300 accent-teal-600 focus:ring-teal-500"}),s.jsx(b.Z,{className:"h-4 w-4 text-teal-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:"font-medium text-sm text-slate-600",children:"Calendar Tool"})}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Check availability and book appointments"})]})]}),eo.calendarEnabled&&(0,s.jsxs)("div",{className:"ml-7 pl-4 border-l-2 border-teal-200 space-y-4",children:[j?.calendars&&j.calendars.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground text-xs",children:"Calendar"}),s.jsx("select",{className:"w-full px-3 py-2 text-sm border rounded-md bg-white",value:eo.calendarIntegrationId,onChange:e=>{let t=e.target.value;ec(e=>({...e,calendarIntegrationId:t,defaultEventTypeId:"",defaultEventTypeName:""}))},children:j.calendars.map(e=>(0,s.jsxs)("option",{value:e.id,children:["google"===e.provider?"Google Calendar":"calcom"===e.provider?"Cal.com":"Calendly"," - ",e.email||e.username||"Connected"]},e.id))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground text-xs",children:"Permissions"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:eo.calendarScopes.includes("read_calendar"),onChange:e=>{ec(t=>({...t,calendarScopes:e.target.checked?[...t.calendarScopes,"read_calendar"]:t.calendarScopes.filter(e=>"read_calendar"!==e)}))},className:"h-4 w-4 rounded border-gray-300 accent-teal-600"}),s.jsx("span",{className:"text-slate-600",children:"Read Calendar"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(check availability)"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:eo.calendarScopes.includes("create_events"),onChange:e=>{ec(t=>({...t,calendarScopes:e.target.checked?[...t.calendarScopes,"create_events"]:t.calendarScopes.filter(e=>"create_events"!==e)}))},className:"h-4 w-4 rounded border-gray-300 accent-teal-600"}),s.jsx("span",{className:"text-slate-600",children:"Create Events"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(book appointments)"})]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:eo.calendarScopes.includes("reschedule_events"),onChange:e=>{ec(t=>({...t,calendarScopes:e.target.checked?[...t.calendarScopes,"reschedule_events"]:t.calendarScopes.filter(e=>"reschedule_events"!==e)}))},className:"h-4 w-4 rounded border-gray-300 accent-teal-600"}),s.jsx("span",{className:"text-slate-600",children:"Reschedule Events"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"(modify bookings)"})]})]})]}),(()=>{let e=j?.calendars?.find(e=>e.id===eo.calendarIntegrationId);return e?.provider==="google"?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground text-xs",children:"Default Duration"}),(0,s.jsxs)("select",{className:"w-full px-3 py-2 text-sm border rounded-md bg-white",value:eo.defaultEventDuration,onChange:e=>ec(t=>({...t,defaultEventDuration:parseInt(e.target.value)})),children:[s.jsx("option",{value:15,children:"15 minutes"}),s.jsx("option",{value:30,children:"30 minutes"}),s.jsx("option",{value:45,children:"45 minutes"}),s.jsx("option",{value:60,children:"60 minutes"}),s.jsx("option",{value:90,children:"90 minutes"})]})]}):w.length>0?(0,s.jsxs)("div",{className:"space-y-2",children:[s.jsx(c._,{className:"text-muted-foreground text-xs",children:"Default Event Type"}),s.jsx("select",{className:"w-full px-3 py-2 text-sm border rounded-md bg-white",value:eo.defaultEventTypeId,onChange:e=>{let t=w.find(t=>t.id===e.target.value);ec(a=>({...a,defaultEventTypeId:e.target.value,defaultEventTypeName:t?.name||""}))},disabled:C,children:C?s.jsx("option",{children:"Loading..."}):w.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.name," (",e.duration," min)"]},e.id))})]}):null})()]})]}),(0,x.TR)(eo.communicationChannel)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:eo.imageToolEnabled,onChange:e=>ec({...eo,imageToolEnabled:e.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-gray-300 accent-teal-600 focus:ring-teal-500"}),s.jsx(_.Z,{className:"h-4 w-4 text-teal-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-sm text-slate-600",children:"Images"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Send photos, screenshots, and graphics via MMS"})]})]}),(0,s.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:eo.documentToolEnabled,onChange:e=>ec({...eo,documentToolEnabled:e.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-gray-300 accent-teal-600 focus:ring-teal-500"}),s.jsx(L.Z,{className:"h-4 w-4 text-teal-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-sm text-slate-600",children:"Documents"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Send PDFs, contracts, and forms via MMS"})]})]}),(0,s.jsxs)("label",{className:"flex items-start gap-3 p-3 rounded-lg border cursor-pointer hover:bg-slate-50 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:eo.videoToolEnabled,onChange:e=>ec({...eo,videoToolEnabled:e.target.checked}),className:"mt-0.5 h-4 w-4 rounded border-gray-300 accent-teal-600 focus:ring-teal-500"}),s.jsx(D.Z,{className:"h-4 w-4 text-teal-600 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-sm text-slate-600",children:"Videos"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:"Share video content and tutorials via MMS"})]})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-4",children:[s.jsx(d.z,{variant:"ghost",size:"icon",onClick:()=>p(2),className:"sm:hidden text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:s.jsx(T.Z,{className:"h-4 w-4"})}),(0,s.jsxs)(d.z,{variant:"ghost",size:"sm",onClick:()=>p(2),className:"hidden sm:flex text-teal-600 hover:text-teal-700 hover:bg-teal-50",children:[s.jsx(T.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),s.jsx(d.z,{onClick:eb,disabled:g,className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:g?"Creating...":"Create Agent"})]})]})]})]})}},36913:(e,t,a)=>{"use strict";a.d(t,{$:()=>u});var s=a(10326),l=a(17577),r=a(46226),n=a(53566),i=a(32003),d=a(79635),o=a(941),c=a(9015),m=a(84097);function u({value:e,onChange:t,disabled:a=!1,userPlan:u="FREE"}){let[x,h]=(0,l.useState)(!1),p=(0,l.useRef)(null),{toast:g}=(0,m.pm)(),f=(0,i.zZ)(u,"VOICE_LIBRARY"),b=n.Cy.find(t=>t.id===e)||n.Cy[0],N=(e,a)=>{if(a>=f){g({title:"Upgrade Required",description:"This voice is available on higher plans. Upgrade to access more voices.",variant:"destructive"});return}t(e),h(!1)};return(0,s.jsxs)("div",{className:"relative",ref:p,children:[(0,s.jsxs)("button",{type:"button",onClick:()=>!a&&h(!x),disabled:a,className:`w-full flex items-center gap-3 px-3 py-2.5 border rounded-md justify-between transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${e?"border-teal-500 bg-teal-50":"bg-white hover:bg-slate-50"}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0 ${e?"bg-teal-100":"bg-slate-100"}`,children:b.avatar?s.jsx(r.default,{src:b.avatar,alt:b.name,width:48,height:48,className:"w-full h-full object-cover"}):s.jsx(d.Z,{className:`w-6 h-6 ${e?"text-teal-600":"text-slate-400"}`})}),(0,s.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("div",{className:"font-medium text-sm text-slate-600",children:b.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:b.description})]})]}),s.jsx(o.Z,{className:`w-4 h-4 text-muted-foreground flex-shrink-0 transition-transform ${x?"rotate-180":""}`})]}),x&&s.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-80 overflow-y-auto",children:n.Cy.map((t,a)=>{let l=t.id===e,n=a>=f;return(0,s.jsxs)("button",{type:"button",onClick:()=>N(t.id,a),className:`relative w-full flex items-center gap-3 px-3 py-2.5 transition-colors ${n?"opacity-60 cursor-not-allowed bg-slate-50":l?"bg-teal-50":"hover:bg-slate-50"}`,children:[n&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(c.Z,{className:"h-3 w-3 text-slate-400"})}),s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0 ${n?"bg-slate-200":l?"bg-teal-100":"bg-slate-100"}`,children:t.avatar?s.jsx(r.default,{src:t.avatar,alt:t.name,width:48,height:48,className:"w-full h-full object-cover"}):s.jsx(d.Z,{className:`w-6 h-6 ${n?"text-slate-400":l?"text-teal-600":"text-slate-400"}`})}),(0,s.jsxs)("div",{className:"flex-1 text-left min-w-0",children:[s.jsx("div",{className:`font-medium text-sm ${n?"text-slate-500":"text-slate-600"}`,children:t.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:t.description})]}),l&&!n&&s.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-600 flex-shrink-0"})]},t.id)})})]})}},41190:(e,t,a)=>{"use strict";a.d(t,{I:()=>n});var s=a(10326),l=a(17577),r=a(51223);let n=l.forwardRef(({className:e,type:t,...a},l)=>s.jsx("input",{type:t,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a}));n.displayName="Input"},44794:(e,t,a)=>{"use strict";a.d(t,{_:()=>n});var s=a(10326),l=a(17577),r=a(51223);let n=l.forwardRef(({className:e,...t},a)=>s.jsx("label",{ref:a,className:(0,r.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));n.displayName="Label"},32003:(e,t,a)=>{"use strict";a.d(t,{y3:()=>l,zZ:()=>r});let s={HYBRID_MODE:{allowedPlans:["PROFESSIONAL","ENTERPRISE"],label:"Hybrid Mode",description:"Allow agents to handle both inbound and outbound calls"},CALENDAR_INTEGRATION:{allowedPlans:["PROFESSIONAL","ENTERPRISE"],label:"Calendar Integration",description:"Connect Google Calendar, Calendly, or Cal.com"},VOICE_CLONING:{allowedPlans:["PROFESSIONAL","ENTERPRISE"],label:"Voice Cloning",description:"Create custom voices from your own audio samples"},WHITE_LABEL:{allowedPlans:["ENTERPRISE"],label:"White Labeling",description:'Remove "Powered by AI Caller" branding'},MULTIPLE_AGENTS:{allowedPlans:["STARTER","PROFESSIONAL","ENTERPRISE"],limit:{FREE:1,STARTER:5,PROFESSIONAL:20,ENTERPRISE:100}},VOICE_LIBRARY:{allowedPlans:["STARTER","PROFESSIONAL","ENTERPRISE"],label:"Extended Voice Library",description:"Access to all premium AI voices",limit:{FREE:3,STARTER:5,PROFESSIONAL:11,ENTERPRISE:11}},CAMPAIGNS:{allowedPlans:["STARTER","PROFESSIONAL","ENTERPRISE"],label:"Outbound Campaigns",description:"Automated outbound calling campaigns",limit:{FREE:0,STARTER:1,PROFESSIONAL:3,ENTERPRISE:100}}};function l(e,t){let a=s[t];return!("allowedPlans"in a)||a.allowedPlans.includes(e)}function r(e,t){return s[t].limit[e]||0}},8729:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`C:\Users\roxas\OneDrive\Desktop\PROJECTS\AICallerSaaS\frontend\src\app\dashboard\agents\new\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[731,285,805,99,620,320],()=>a(28806));module.exports=s})();