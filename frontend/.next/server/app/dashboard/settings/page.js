(()=>{var e={};e.id=455,e.ids=[455],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1995:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(8621),s(2834),s(8385),s(5866);var a=s(3191),l=s(8716),n=s(7922),r=s.n(n),i=s(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["dashboard",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8621)),"/workspaces/AICallerSaaS/frontend/src/app/dashboard/settings/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2834)),"/workspaces/AICallerSaaS/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8385)),"/workspaces/AICallerSaaS/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspaces/AICallerSaaS/frontend/src/app/dashboard/settings/page.tsx"],m="/dashboard/settings/page",x={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/settings/page",pathname:"/dashboard/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},9131:(e,t,s)=>{Promise.resolve().then(s.bind(s,9142))},7358:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},8393:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3062:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},9669:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},2887:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},1405:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},8091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9142:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>z});var a=s(326),l=s(7577),n=s(6226),r=s(732),i=s(8393),c=s(7506),o=s(8378),d=s(3062),m=s(2881);let x=(0,m.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=s(361),u=s(9669),p=s(1405),f=s(2887),g=s(8091);let j=(0,m.Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),v=(0,m.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var b=s(7358),y=s(9752),N=s(7346),w=s(1190),k=s(8069),C=s(4097),S=s(3566);let Z=e=>{if(!e)return null;let t=S.Cy.find(t=>t.id===e.toLowerCase());return t?.avatar||null};function A({agents:e,selectedAgentId:t,onSelect:s,disabled:c}){let[o,d]=(0,l.useState)(!1),m=(0,l.useRef)(null),x=e.find(e=>e.id===t),h=x?Z(x.voice):null;return(0,a.jsxs)("div",{className:"relative",ref:m,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>!c&&d(!o),disabled:c,className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md bg-white disabled:opacity-50 min-w-[180px] justify-between hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-2.5 min-w-0",children:x?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:h?a.jsx(n.default,{src:h,alt:x.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(r.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"truncate font-medium",children:x.name})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:a.jsx(r.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"text-muted-foreground",children:"No agent"})]})}),a.jsx(i.Z,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ${o?"rotate-180":""}`})]}),o&&(0,a.jsxs)("div",{className:"absolute z-50 mt-1 w-full min-w-[240px] bg-white border rounded-md shadow-lg py-1 max-h-60 overflow-auto right-0 sm:right-auto",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>{s(""),d(!1)},className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:a.jsx(r.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"text-muted-foreground",children:"No agent"})]}),e.map(e=>{let l=Z(e.voice);return(0,a.jsxs)("button",{type:"button",onClick:()=>{s(e.id),d(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left ${e.id===t?"bg-blue-50":""}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:l?a.jsx(n.default,{src:l,alt:e.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(r.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"truncate font-medium",children:e.name})]},e.id)})]})]})}function z(){let{toast:e}=(0,C.pm)(),[t,s]=(0,l.useState)(!0),[n,r]=(0,l.useState)(!1),[i,m]=(0,l.useState)(!1),[S,Z]=(0,l.useState)(null),[z,T]=(0,l.useState)(!1),[P,M]=(0,l.useState)(!1),[F,I]=(0,l.useState)(""),[$,E]=(0,l.useState)(""),[_,q]=(0,l.useState)(!1),[D,O]=(0,l.useState)(!1),[Y,L]=(0,l.useState)(null),[R,H]=(0,l.useState)(!1),[G,B]=(0,l.useState)([]),[K,V]=(0,l.useState)(""),[U,W]=(0,l.useState)(!1),[X,J]=(0,l.useState)(""),[Q,ee]=(0,l.useState)(!1),[et,es]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(!1),[en,er]=(0,l.useState)(""),[ei,ec]=(0,l.useState)(!1),[eo,ed]=(0,l.useState)([]),[em,ex]=(0,l.useState)("calcom"),[eh,eu]=(0,l.useState)("integrations"),[ep,ef]=(0,l.useState)([]),[eg,ej]=(0,l.useState)([]),[ev,eb]=(0,l.useState)(!1),[ey,eN]=(0,l.useState)(null),[ew,ek]=(0,l.useState)(null),[eC,eS]=(0,l.useState)(!0),[eZ,eA]=(0,l.useState)(!1),[ez,eT]=(0,l.useState)(!1),[eP,eM]=(0,l.useState)({organizationName:"",industry:"",businessDescription:""}),eF=async()=>{eA(!0);try{let t=await k.h.updateBusinessProfile(eP);ek(t.data||null),e({title:"Business profile saved",description:t.data?.isComplete?"Your business profile is complete!":"Business profile updated. Add organization name to complete it."})}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to save business profile",variant:"destructive"})}finally{eA(!1)}},eI=async()=>{try{let e=await k.h.getTwilioSettings();Z(e.data||null),e.data?.accountSid&&I(e.data.accountSid)}catch(e){console.error("Failed to fetch settings:",e)}finally{s(!1)}},e$=async()=>{eb(!0);try{let[e,t]=await Promise.all([k.h.getPhoneNumbers(),k.h.getAgents()]);ef(e.data||[]),ej(t.data||[]),M((e.data||[]).length>0)}catch(e){console.error("Failed to fetch phone numbers:",e)}finally{eb(!1)}},eE=async(t,s)=>{eN(t);let a=eg.find(e=>e.id===s);ef(e=>e.map(e=>e.id===t?{...e,agent:s?a:null}:e));try{await k.h.updatePhoneNumber(t,{agentId:s||null}),e({title:"Agent assigned",description:"Phone number updated successfully."}),await e$()}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to assign agent",variant:"destructive"}),await e$()}finally{eN(null)}},e_=async t=>{if(confirm("Are you sure you want to remove this phone number?"))try{await k.h.deletePhoneNumber(t),e({title:"Phone number removed",description:"The phone number has been removed."}),e$()}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to remove phone number",variant:"destructive"})}},eq=e=>{let t=e.replace(/\D/g,"");return 11===t.length&&t.startsWith("1")?`(${t.slice(1,4)}) ${t.slice(4,7)}-${t.slice(7)}`:e},eD=async()=>{try{let e=await k.h.getCalendarStatus();L(e.data||null),e.data?.connected&&eO(e.data.provider)}catch(e){console.error("Failed to fetch calendar status:",e)}},eO=async e=>{let t=e||Y?.provider;try{if("calcom"===t){let e=await k.h.getCalcomEventTypes();ed(e.data||[])}else if("calendly"===t){let e=await k.h.getCalendarEventTypes();B(e.data||[])}}catch(e){console.error("Failed to fetch event types:",e)}},eY=async()=>{if(!en){e({title:"Missing API Key",description:"Please enter your Cal.com API Key",variant:"destructive"});return}H(!0);try{let t=await k.h.connectCalcom(en);t.data?.connected&&(e({title:"Cal.com connected!",description:`Connected as ${t.data.username||t.data.email}. Select an event type below.`}),er(""),es(!1),eD())}catch(t){e({title:"Connection failed",description:t instanceof k.M?t.message:"Failed to connect Cal.com",variant:"destructive"})}finally{H(!1)}},eL=async()=>{if(!X){e({title:"Missing token",description:"Please enter your Calendly Personal Access Token",variant:"destructive"});return}H(!0);try{let t=await k.h.connectCalendly(X);t.data?.connected&&(e({title:"Calendly connected!",description:`Connected as ${t.data.email}. Select an event type below.`}),J(""),es(!1),eD())}catch(t){e({title:"Connection failed",description:t instanceof k.M?t.message:"Failed to connect Calendly",variant:"destructive"})}finally{H(!1)}},eR=async t=>{let s=G.find(e=>e.uri===t);if(s){W(!0);try{await k.h.updateCalendarEventType(t,s.name||""),V(t),e({title:"Event type saved",description:`AI agents will now use "${s.name}" for appointments.`}),eD()}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to save event type",variant:"destructive"})}finally{W(!1)}}},eH=async t=>{let s=eo.find(e=>e.id===t);if(s){W(!0);try{await k.h.updateCalcomEventType(t,s.slug,s.title),e({title:"Event type saved",description:`AI agents will now use "${s.title}" for appointments and can book directly!`}),eD()}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to save event type",variant:"destructive"})}finally{W(!1)}}},eG=async()=>{if(confirm("Are you sure you want to remove your calendar integration?"))try{await k.h.disconnectCalendar(),L(null),B([]),V(""),e({title:"Calendar removed",description:"Your calendar integration has been removed."})}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to remove calendar",variant:"destructive"})}},eB=async()=>{if(!F||!$){e({title:"Missing fields",description:"Please enter both Account SID and Auth Token",variant:"destructive"});return}r(!0);try{await k.h.updateTwilioSettings(F,$),e({title:"Settings saved",description:"Your Twilio credentials have been saved and verified."}),E(""),O(!1),eI()}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to save settings",variant:"destructive"})}finally{r(!1)}},eK=async()=>{m(!0);try{let t=await k.h.testTwilioConnection();e({title:"Connection successful!",description:`Connected to: ${t.data?.accountName} (${t.data?.accountStatus})`})}catch(t){e({title:"Connection failed",description:t instanceof k.M?t.message:"Connection test failed",variant:"destructive"})}finally{m(!1)}},eV=async()=>{if(confirm("Are you sure you want to remove your Twilio credentials?"))try{await k.h.deleteTwilioSettings(),e({title:"Credentials removed",description:"Your Twilio credentials have been removed."}),I(""),E(""),Z(null)}catch(t){e({title:"Error",description:t instanceof k.M?t.message:"Failed to remove credentials",variant:"destructive"})}};return t?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(c.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[a.jsx(o.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-600"}),a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-600",children:"Settings"}),a.jsx("span",{className:"hidden sm:inline text-slate-400",children:"•"}),a.jsx("p",{className:"text-muted-foreground text-sm sm:text-base w-full sm:w-auto",children:"Configure your integrations and preferences"})]}),(0,a.jsxs)("div",{className:"flex border-b",children:[a.jsx("button",{onClick:()=>eu("integrations"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"integrations"===eh?"border-teal-600 text-teal-600":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Integrations"}),a.jsx("button",{onClick:()=>eu("preferences"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"preferences"===eh?"border-teal-600 text-teal-600":"border-transparent text-muted-foreground hover:text-foreground"}`,children:"Preferences"})]}),"integrations"===eh&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.ll,{className:"text-base sm:text-lg text-slate-600",children:"Twilio"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>T(!z),className:"text-teal-500 hover:text-teal-700 transition-colors","aria-label":"How to get Twilio credentials",children:a.jsx(d.Z,{className:"h-4 w-4"})}),z&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>T(!1)}),(0,a.jsxs)("div",{className:"absolute left-0 sm:left-auto sm:right-0 top-full mt-2 z-50 w-72 bg-white border rounded-lg shadow-lg p-4",children:[a.jsx("span",{className:"text-sm mb",children:"You will need a Twilio number to place or receive calls."}),a.jsx("h4",{className:"font-medium text-sm mb-2",children:"How to get your Twilio credentials:"}),(0,a.jsxs)("ol",{className:"text-sm text-muted-foreground space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Go to your Twilio Console"}),(0,a.jsxs)("li",{children:["Find your ",a.jsx("strong",{className:"text-foreground",children:"Account SID"})," and ",a.jsx("strong",{className:"text-foreground",children:"Auth Token"})," on the dashboard"]}),a.jsx("li",{children:"Copy and paste them below"}),a.jsx("li",{children:"Make sure you have at least one phone number"})]}),(0,a.jsxs)("a",{href:"https://console.twilio.com",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-3 text-sm text-teal-600 hover:underline",children:["Open Twilio Console ",a.jsx(x,{className:"h-3 w-3"})]})]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 ml-13 sm:ml-0",children:S?.configured?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Connected"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-slate-500",children:[a.jsx(u.Z,{className:"h-4 w-4"}),"Not configured"]})})]})}),a.jsx(y.aY,{className:"space-y-6",children:S?.configured&&!D?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground text-xs sm:text-sm",children:"Account SID"}),a.jsx("p",{className:"font-mono text-xs sm:text-sm bg-slate-100 p-2 rounded mt-1 break-all",children:S.accountSid})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground text-xs sm:text-sm",children:"Auth Token"}),a.jsx("p",{className:"font-mono text-xs sm:text-sm bg-slate-100 p-2 rounded mt-1",children:S.authTokenMasked||"••••••••"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(N.z,{onClick:()=>O(!0),size:"sm",className:"flex-1 sm:flex-none bg-teal-600 hover:bg-teal-700 text-white",children:"Update Credentials"}),a.jsx(N.z,{variant:"outline",onClick:eK,disabled:i,size:"sm",className:"flex-1 sm:flex-none text-teal-600 border-teal-600",children:i?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Testing..."]}):"Test Connection"}),a.jsx(N.z,{variant:"destructive",onClick:eV,size:"sm",className:"flex-1 sm:flex-none",children:"Remove"})]}),(0,a.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-600",children:"Phone Numbers"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Assign agents to your Twilio phone numbers"})]}),(0,a.jsxs)(N.z,{variant:"outline",size:"sm",onClick:e$,disabled:ev,className:"text-teal-600 border-teal-600",children:[a.jsx(p.Z,{className:`h-4 w-4 mr-2 ${ev?"animate-spin":""}`}),"Refresh"]})]}),ev?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(c.Z,{className:"h-6 w-6 animate-spin text-teal-600"})}):0===ep.length?(0,a.jsxs)("div",{className:"text-center py-8 border rounded-lg bg-slate-50",children:[a.jsx(f.Z,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),a.jsx("p",{className:"font-medium text-slate-600 mb-1",children:"No phone numbers added"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Purchase a number in Twilio Console, then refresh"}),a.jsx("a",{href:"https://console.twilio.com/us1/develop/phone-numbers/manage/incoming",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-teal-600 hover:underline",children:"Open Twilio Console →"})]}):(0,a.jsxs)("div",{className:"space-y-3",children:[ep.map(e=>(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 rounded-lg border gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:a.jsx(f.Z,{className:"h-5 w-5 text-teal-600"})}),a.jsx("p",{className:"font-mono font-medium text-sm text-slate-600",children:eq(e.phoneNumber)})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3 ml-13 sm:ml-0",children:[a.jsx(A,{agents:eg,selectedAgentId:e.agent?.id||null,onSelect:t=>eE(e.id,t),disabled:ey===e.id||0===eg.length}),a.jsx(N.z,{variant:"ghost",size:"sm",onClick:()=>e_(e.id),className:"flex-shrink-0",children:a.jsx(g.Z,{className:"h-4 w-4 text-red-500"})})]})]},e.id)),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center pt-2",children:["Need more numbers?"," ",a.jsx("a",{href:"https://console.twilio.com/us1/develop/phone-numbers/manage/incoming",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:"Purchase in Twilio Console"})," ","then refresh."]})]})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"accountSid",className:"text-sm font-medium",children:"Account SID"}),a.jsx(w.I,{id:"accountSid",value:F,onChange:e=>I(e.target.value),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"font-mono text-sm"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"authToken",className:"text-sm font-medium",children:"Auth Token"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(w.I,{id:"authToken",type:_?"text":"password",value:$,onChange:e=>E(e.target.value),placeholder:"Your Twilio Auth Token",className:"font-mono text-sm pr-10"}),a.jsx("button",{type:"button",onClick:()=>q(!_),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:_?a.jsx(j,{className:"h-4 w-4"}):a.jsx(v,{className:"h-4 w-4"})})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(N.z,{onClick:eB,disabled:n,className:"bg-teal-600 hover:bg-teal-700",children:n?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save & Verify"}),D&&a.jsx(N.z,{variant:"outline",onClick:()=>{O(!1),E("")},children:"Cancel"})]})]})})]}),(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.ll,{className:"text-base sm:text-lg text-slate-600",children:"Calendar"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>el(!ea),className:"text-teal-500 hover:text-teal-700 transition-colors","aria-label":"Calendar integration help",children:a.jsx(d.Z,{className:"h-4 w-4"})}),ea&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>el(!1)}),(0,a.jsxs)("div",{className:"absolute left-0 sm:left-auto sm:right-0 top-full mt-2 z-50 w-80 bg-white border rounded-lg shadow-lg p-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Calendar Integration Options"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"Cal.com (Recommended)"}),a.jsx("p",{children:"Full programmatic booking - AI can directly create appointments without any follow-up needed."})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"Calendly"}),a.jsx("p",{children:"Availability checking only - AI can see open slots but cannot book directly (API limitation)."})]})]})]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 ml-13 sm:ml-0",children:Y?.connected?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Connected"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-slate-500",children:[a.jsx(u.Z,{className:"h-4 w-4"}),"Not connected"]})})]})}),a.jsx(y.aY,{className:"space-y-6",children:Y?.connected&&!et?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground text-xs sm:text-sm",children:"Connected Account"}),a.jsx("p",{className:"text-sm bg-slate-100 p-2 rounded mt-1",children:"calcom"===Y.provider?`${Y.username||Y.email||"User"} (Cal.com)`:`${Y.email||"User"} (Calendly)`})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground text-xs sm:text-sm",children:"Timezone"}),a.jsx("p",{className:"text-sm bg-slate-100 p-2 rounded mt-1",children:Y.timezone||"Not set"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx(N.z,{onClick:()=>es(!0),size:"sm",className:"flex-1 sm:flex-none bg-teal-600 hover:bg-teal-700 text-white",children:"Update Credentials"}),a.jsx(N.z,{variant:"outline",onClick:()=>eO(Y?.provider),size:"sm",className:"flex-1 sm:flex-none text-teal-600 border-teal-600",children:"Test Connection"}),a.jsx(N.z,{variant:"destructive",onClick:eG,size:"sm",className:"flex-1 sm:flex-none",children:"Remove"})]}),(0,a.jsxs)("div",{className:"border-t pt-6 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-slate-600",children:"Event Types"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select an event type for AI agents to book"})]}),(0,a.jsxs)(N.z,{variant:"outline",size:"sm",onClick:()=>eO(Y?.provider),className:"text-teal-600 border-teal-600",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),"calcom"===Y.provider&&a.jsx(a.Fragment,{children:eo.length>0?a.jsx("div",{className:"space-y-3",children:eo.map(e=>a.jsx("div",{onClick:()=>eH(e.id),className:`flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors ${Y.eventTypeName===e.title?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"} ${U?"opacity-50 pointer-events-none":""}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:a.jsx(b.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm text-slate-600",children:e.title}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.duration?`${e.duration} minutes`:"",e.duration&&e.description&&" • ",e.description]})]})]})},e.id))}):a.jsx("div",{className:"flex items-center justify-center py-8 border rounded-lg bg-slate-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(c.Z,{className:"h-4 w-4 animate-spin"}),"Loading event types..."]})})}),"calendly"===Y.provider&&a.jsx(a.Fragment,{children:G.length>0?a.jsx("div",{className:"space-y-3",children:G.map(e=>a.jsx("div",{onClick:()=>eR(e.uri),className:`flex items-center justify-between p-4 rounded-lg border cursor-pointer transition-colors ${Y.eventTypeName===e.name?"border-teal-500 bg-teal-50":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"} ${U?"opacity-50 pointer-events-none":""}`,children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center flex-shrink-0",children:a.jsx(b.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-sm text-slate-600",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.duration," minutes",e.description&&` • ${e.description}`]})]})]})},e.uri))}):a.jsx("div",{className:"flex items-center justify-center py-8 border rounded-lg bg-slate-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(c.Z,{className:"h-4 w-4 animate-spin"}),"Loading event types..."]})})})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex border-b",children:[a.jsx("button",{onClick:()=>ex("calcom"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"calcom"===em?"border-teal-600 text-teal-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Cal.com (Recommended)"}),a.jsx("button",{onClick:()=>ex("calendly"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"calendly"===em?"border-teal-600 text-teal-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Calendly"})]}),"calcom"===em&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-green-800",children:"Why Cal.com?"}),(0,a.jsxs)("ul",{className:"text-sm text-green-700 space-y-1 list-disc list-inside",children:[(0,a.jsxs)("li",{children:[a.jsx("strong",{children:"Direct booking"})," - AI can create appointments automatically"]}),a.jsx("li",{children:"Check real-time availability"}),a.jsx("li",{children:"Confirmation emails sent instantly"}),a.jsx("li",{children:"No follow-up or manual confirmation needed"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"calcomApiKey",className:"text-sm font-medium",children:"Cal.com API Key"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(w.I,{id:"calcomApiKey",type:ei?"text":"password",value:en,onChange:e=>er(e.target.value),placeholder:"cal_live_...",className:"font-mono text-sm pr-10"}),a.jsx("button",{type:"button",onClick:()=>ec(!ei),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:ei?a.jsx(j,{className:"h-4 w-4"}):a.jsx(v,{className:"h-4 w-4"})})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Get your API key from"," ",a.jsx("a",{href:"https://app.cal.com/settings/developer/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:"Cal.com Developer Settings"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(N.z,{onClick:eY,disabled:R||!en,className:"bg-teal-600 hover:bg-teal-700",children:R?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Connecting..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Connect Cal.com"]})}),et&&a.jsx(N.z,{variant:"outline",onClick:()=>{es(!1),er("")},children:"Cancel"})]})]}),"calendly"===em&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2 text-amber-800",children:"Calendly Limitation"}),a.jsx("p",{className:"text-sm text-amber-700",children:"Calendly's API doesn't support direct booking. AI agents can check availability but appointments require manual follow-up."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"calendlyToken",className:"text-sm font-medium",children:"Personal Access Token"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(w.I,{id:"calendlyToken",type:Q?"text":"password",value:X,onChange:e=>J(e.target.value),placeholder:"Your Calendly Personal Access Token",className:"font-mono text-sm pr-10"}),a.jsx("button",{type:"button",onClick:()=>ee(!Q),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?a.jsx(j,{className:"h-4 w-4"}):a.jsx(v,{className:"h-4 w-4"})})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Get your token from"," ",a.jsx("a",{href:"https://calendly.com/integrations/api_webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-teal-600 hover:underline",children:"Calendly API Settings"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(N.z,{onClick:eL,disabled:R||!X,className:"bg-teal-600 hover:bg-teal-700",children:R?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Connecting..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Connect Calendly"]})}),et&&a.jsx(N.z,{variant:"outline",onClick:()=>{es(!1),J("")},children:"Cancel"})]})]})]})})]}),S?.configured&&!P&&(0,a.jsxs)(y.Zb,{children:[(0,a.jsxs)(y.Ol,{children:[a.jsx(y.ll,{className:"text-slate-600",children:"Next Steps"}),a.jsx(y.SZ,{children:"Your Twilio account is connected. Here's what to do next:"})]}),a.jsx(y.aY,{children:a.jsx("div",{className:"space-y-3",children:(0,a.jsxs)("a",{href:"/dashboard/phone-numbers",className:"flex items-center justify-between p-3 rounded-lg border hover:bg-slate-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(f.Z,{className:"h-4 w-4 text-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium",children:"Add Phone Numbers"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Import your Twilio phone numbers to use with agents"})]})]}),a.jsx("span",{className:"text-muted-foreground",children:"→"})]})})})]})]}),"preferences"===eh&&a.jsx("div",{className:"space-y-6",children:(0,a.jsxs)(y.Zb,{children:[a.jsx(y.Ol,{className:"pb-4",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(y.ll,{className:"text-base sm:text-lg text-slate-600",children:"Organization Profile"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{type:"button",onClick:()=>eT(!ez),className:"text-teal-500 hover:text-teal-700 transition-colors","aria-label":"About business profile",children:a.jsx(d.Z,{className:"h-4 w-4"})}),ez&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>eT(!1)}),(0,a.jsxs)("div",{className:"absolute left-0 sm:left-auto sm:right-0 top-full mt-2 z-50 w-72 bg-white border rounded-lg shadow-lg p-4",children:[a.jsx("h4",{className:"font-medium text-sm mb-2",children:"Why set up an Organization Profile?"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"This information helps your AI agents introduce themselves properly. When agents make or receive calls, they'll use your organization name and context to sound professional and authentic."})]})]})]})]}),a.jsx("div",{className:"flex items-center gap-2 sm:ml-0",children:ew?.isComplete?(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[a.jsx(h.Z,{className:"h-4 w-4"}),"Complete"]}):(0,a.jsxs)("span",{className:"flex items-center gap-1 text-sm text-slate-500",children:[a.jsx(u.Z,{className:"h-4 w-4"}),"Incomplete"]})})]})}),a.jsx(y.aY,{className:"space-y-4",children:eC?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(c.Z,{className:"h-6 w-6 animate-spin text-teal-600"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"organizationName",className:"text-sm font-medium text-muted-foreground",children:"Organization Name *"}),a.jsx(w.I,{id:"organizationName",placeholder:"e.g., Acme Dental, Smith Law Firm",value:eP.organizationName,onChange:e=>eM(t=>({...t,organizationName:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"industry",className:"text-sm font-medium text-muted-foreground",children:"Industry"}),a.jsx(w.I,{id:"industry",placeholder:"e.g., Healthcare, Legal Services, Real Estate",value:eP.industry,onChange:e=>eM(t=>({...t,industry:e.target.value}))})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"businessDescription",className:"text-sm font-medium text-muted-foreground",children:"Business Description"}),a.jsx("textarea",{id:"businessDescription",className:"w-full min-h-[100px] p-3 border rounded-md text-sm",placeholder:"Brief description of your business, services offered, and what makes you unique...",value:eP.businessDescription,onChange:e=>eM(t=>({...t,businessDescription:e.target.value}))}),a.jsx("p",{className:"text-xs text-muted-foreground"})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(N.z,{onClick:eF,disabled:eZ,className:"bg-teal-600 hover:bg-teal-700",children:eZ?(0,a.jsxs)(a.Fragment,{children:[a.jsx(c.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Profile"})})]})})]})})]})}},1190:(e,t,s)=>{"use strict";s.d(t,{I:()=>r});var a=s(326),l=s(7577),n=s(1223);let r=l.forwardRef(({className:e,type:t,...s},l)=>a.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...s}));r.displayName="Input"},8621:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/workspaces/AICallerSaaS/frontend/src/app/dashboard/settings/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[172,285,323,978],()=>s(1995));module.exports=a})();