(()=>{var e={};e.id=770,e.ids=[770],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5518:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(8575),s(2834),s(8385),s(5866);var a=s(3191),l=s(8716),r=s(7922),i=s.n(r),n=s(5231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["dialpad",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8575)),"/workspaces/AICallerSaaS/frontend/src/app/dashboard/dialpad/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2834)),"/workspaces/AICallerSaaS/frontend/src/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,8385)),"/workspaces/AICallerSaaS/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/workspaces/AICallerSaaS/frontend/src/app/dashboard/dialpad/page.tsx"],x="/dashboard/dialpad/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/dialpad/page",pathname:"/dashboard/dialpad",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4544:(e,t,s)=>{Promise.resolve().then(s.bind(s,930))},4361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},7147:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},4713:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},8393:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},3661:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]])},3855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(326),l=s(7577),r=s(5047),i=s(6226),n=s(434),d=s(9752),c=s(7346),o=s(8069),x=s(4097),u=s(3566),m=s(4361),h=s(4713),p=s(7147),g=s(7506),f=s(9423),j=s(732),b=s(3855),w=s(8393),N=s(3661),v=s(4603);let y=[{digit:"1",letters:""},{digit:"2",letters:"ABC"},{digit:"3",letters:"DEF"},{digit:"4",letters:"GHI"},{digit:"5",letters:"JKL"},{digit:"6",letters:"MNO"},{digit:"7",letters:"PQRS"},{digit:"8",letters:"TUV"},{digit:"9",letters:"WXYZ"},{digit:"*",letters:""},{digit:"0",letters:"+"},{digit:"#",letters:""}],k=e=>{if(!e)return null;let t=u.Cy.find(t=>t.id===e.toLowerCase());return t?.avatar||null},Z=e=>{switch(e){case"INBOUND":return a.jsx(m.Z,{className:"h-3 w-3"});case"OUTBOUND":return a.jsx(h.Z,{className:"h-3 w-3"});case"HYBRID":return a.jsx(p.Z,{className:"h-3 w-3"});default:return null}};function S(){(0,r.useRouter)();let{toast:e}=(0,x.pm)(),[t,s]=(0,l.useState)([]),[u,m]=(0,l.useState)(""),[h,p]=(0,l.useState)(""),[S,_]=(0,l.useState)(!0),[C,P]=(0,l.useState)(!1),[A,M]=(0,l.useState)(!1),D=(0,l.useRef)(null),$=t.find(e=>e.id===u),I=e=>e.length<=3?e:e.length<=6?`(${e.slice(0,3)}) ${e.slice(3)}`:e.length<=10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`,O=e=>{let t=h.replace(/\D/g,"");t.length<10&&p(I(t+e))},E=()=>{if(!$?.callWindowStart||!$?.callWindowEnd)return!0;let e=new Date,t=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;return t>=$.callWindowStart&&t<=$.callWindowEnd},H=async()=>{let t=h.replace(/\D/g,"");if(!u){e({title:"No agent selected",description:"Please select an agent to make the call",variant:"destructive"});return}if(t.length<10){e({title:"Invalid phone number",description:"Please enter a valid 10-digit phone number",variant:"destructive"});return}if(!E()){e({title:"Outside call window",description:`Calls can only be made between ${$?.callWindowStart} and ${$?.callWindowEnd}`,variant:"destructive"});return}P(!0);try{let s=`+1${t}`;await o.h.makeOutboundCall(u,s),e({title:"Call initiated!",description:`Calling ${h}...`})}catch(t){e({title:"Error",description:t instanceof o.M?t.message:"Failed to initiate call",variant:"destructive"})}finally{P(!1)}},W=h.replace(/\D/g,"");return S?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(g.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):0===t.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(f.Z,{className:"h-8 w-8 text-slate-600"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-600",children:"Dialpad"}),a.jsx("p",{className:"text-muted-foreground",children:"Make outbound calls with your AI agents"})]})]}),a.jsx(d.Zb,{children:a.jsx(d.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx(j.Z,{className:"h-8 w-8 text-slate-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"No Outbound Agents"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need at least one active agent with Outbound or Hybrid mode to make calls."}),a.jsx(n.default,{href:"/dashboard/agents/new",children:(0,a.jsxs)(c.z,{className:"bg-teal-600 hover:bg-teal-700",children:[a.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Create an Agent"]})})]})})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(f.Z,{className:"h-8 w-8 text-slate-600"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-600",children:"Dialpad"}),a.jsx("p",{className:"text-muted-foreground",children:"Make outbound calls with your AI agents"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d.Zb,{className:"max-w-md w-full",children:(0,a.jsxs)(d.aY,{className:"pt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Select Agent"}),(0,a.jsxs)("div",{className:"relative",ref:D,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>M(!A),className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md bg-background w-full justify-between hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-3 min-w-0",children:$?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:k($.voice)?a.jsx(i.default,{src:k($.voice),alt:$.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(j.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{className:"text-left min-w-0",children:[a.jsx("span",{className:"font-medium text-slate-600 block truncate",children:$.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[Z($.mode),"HYBRID"===$.mode?"Hybrid":"Outbound"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:a.jsx(j.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"text-muted-foreground",children:"Select an agent"})]})}),a.jsx(w.Z,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ${A?"rotate-180":""}`})]}),A&&a.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-md shadow-lg py-1 max-h-60 overflow-auto",children:t.map(e=>{let t=k(e.voice);return(0,a.jsxs)("button",{type:"button",onClick:()=>{m(e.id),M(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left ${e.id===u?"bg-teal-50":""}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:t?a.jsx(i.default,{src:t,alt:e.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(j.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium text-slate-600 block truncate",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[Z(e.mode),"HYBRID"===e.mode?"Hybrid":"Outbound"]})]})]},e.id)})})]})]}),a.jsx("div",{className:"text-center py-4",children:a.jsx("div",{className:"h-12 flex items-center justify-center",children:h?a.jsx("span",{className:"text-3xl font-semibold text-slate-600 tracking-wide",children:h}):a.jsx("span",{className:"text-3xl text-slate-300",children:"(___) ___-____"})})}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:y.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>O(e.digit),className:"flex flex-col items-center justify-center h-16 rounded-full bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-colors",disabled:C,children:[a.jsx("span",{className:"text-xl font-semibold text-slate-700",children:e.digit}),e.letters&&a.jsx("span",{className:"text-[10px] text-slate-400 tracking-widest",children:e.letters})]},e.digit))}),a.jsx("div",{className:"flex justify-end px-4",children:a.jsx("button",{type:"button",onClick:()=>{p(I(h.replace(/\D/g,"").slice(0,-1)))},className:"p-2 text-slate-400 hover:text-slate-600 transition-colors",disabled:!h||C,children:a.jsx(N.Z,{className:"h-6 w-6"})})}),$?.callWindowStart&&$?.callWindowEnd&&!E()&&a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-amber-700",children:["⚠️ Outside call window (",$.callWindowStart," - ",$.callWindowEnd,")"]})}),a.jsx(c.z,{type:"button",onClick:H,className:"w-full h-14 text-lg bg-teal-600 hover:bg-teal-700",disabled:C||W.length<10||!u,children:C?(0,a.jsxs)(a.Fragment,{children:[a.jsx(g.Z,{className:"h-5 w-5 mr-2 animate-spin"}),"Calling..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(v.Z,{className:"h-5 w-5 mr-2"}),"Call"]})})]})})})]})}},8575:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`/workspaces/AICallerSaaS/frontend/src/app/dashboard/dialpad/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[172,285,323,978],()=>s(5518));module.exports=a})();