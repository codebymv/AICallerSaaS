(()=>{var e={};e.id=770,e.ids=[770],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},87019:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>o,routeModule:()=>m,tree:()=>c}),s(68575),s(22834),s(48385),s(35866);var a=s(23191),r=s(88716),l=s(37922),i=s.n(l),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let c=["",{children:["dashboard",{children:["dialpad",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68575)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\dialpad\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22834)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,48385)),"C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\roxas\\OneDrive\\Desktop\\PROJECTS\\AICallerSaaS\\frontend\\src\\app\\dashboard\\dialpad\\page.tsx"],u="/dashboard/dialpad/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/dialpad/page",pathname:"/dashboard/dialpad",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},85561:(e,t,s)=>{Promise.resolve().then(s.bind(s,930))},84361:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]])},97147:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]])},44713:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},941:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},13661:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Delete",[["path",{d:"M20 5H9l-7 7 7 7h11a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2Z",key:"1oy587"}],["line",{x1:"18",x2:"12",y1:"9",y2:"15",key:"1olkx5"}],["line",{x1:"12",x2:"18",y1:"9",y2:"15",key:"1n50pc"}]])},83855:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},930:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(10326),r=s(17577),l=s(35047),i=s(46226),n=s(90434),d=s(29752),c=s(91664),o=s(44794),u=s(18069),x=s(84097),m=s(53566),h=s(84361),p=s(44713),g=s(97147),f=s(77506),b=s(49423),j=s(50732),v=s(83855),w=s(941),N=s(13661),y=s(74603);let k=[{digit:"1",letters:""},{digit:"2",letters:"ABC"},{digit:"3",letters:"DEF"},{digit:"4",letters:"GHI"},{digit:"5",letters:"JKL"},{digit:"6",letters:"MNO"},{digit:"7",letters:"PQRS"},{digit:"8",letters:"TUV"},{digit:"9",letters:"WXYZ"},{digit:"*",letters:""},{digit:"0",letters:"+"},{digit:"#",letters:""}],S=e=>{if(!e)return null;let t=m.Cy.find(t=>t.id===e.toLowerCase());return t?.avatar||null},C=e=>{switch(e){case"INBOUND":return a.jsx(h.Z,{className:"h-3 w-3"});case"OUTBOUND":return a.jsx(p.Z,{className:"h-3 w-3"});case"HYBRID":return a.jsx(g.Z,{className:"h-3 w-3"});default:return null}};function Z(){(0,l.useRouter)();let{toast:e}=(0,x.pm)(),[t,s]=(0,r.useState)([]),[m,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(""),[Z,D]=(0,r.useState)(!0),[_,P]=(0,r.useState)(!1),[q,O]=(0,r.useState)(!1),A=(0,r.useRef)(null),M=t.find(e=>e.id===m),E=e=>e.length<=3?e:e.length<=6?`(${e.slice(0,3)}) ${e.slice(3)}`:e.length<=10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6,10)}`,$=e=>{let t=p.replace(/\D/g,"");t.length<10&&g(E(t+e))},R=()=>{if(!M?.callWindowStart||!M?.callWindowEnd)return!0;let e=new Date,t=`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`;return t>=M.callWindowStart&&t<=M.callWindowEnd},I=async()=>{let t=p.replace(/\D/g,"");if(!m){e({title:"No agent selected",description:"Please select an agent to make the call",variant:"destructive"});return}if(t.length<10){e({title:"Invalid phone number",description:"Please enter a valid 10-digit phone number",variant:"destructive"});return}if(!R()){e({title:"Outside call window",description:`Calls can only be made between ${M?.callWindowStart} and ${M?.callWindowEnd}`,variant:"destructive"});return}P(!0);try{let s=`+1${t}`;await u.h.makeOutboundCall(m,s),e({title:"\uD83D\uDCF1 Dialing...",description:`Calling ${p}`})}catch(t){e({title:"Error",description:t instanceof u.M?t.message:"Failed to initiate call",variant:"destructive"})}finally{P(!1)}},H=p.replace(/\D/g,"");return Z?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx(f.Z,{className:"h-8 w-8 animate-spin text-teal-600"})}):0===t.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(b.Z,{className:"h-8 w-8 text-slate-600"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-slate-600",children:"Dialpad"}),a.jsx("p",{className:"text-muted-foreground",children:"Make outbound calls with your AI agents"})]})]}),a.jsx(d.Zb,{children:a.jsx(d.aY,{className:"pt-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx(j.Z,{className:"h-8 w-8 text-slate-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-slate-600 mb-2",children:"No Outbound Agents"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"You need at least one active agent with Outbound or Hybrid mode to make calls."}),a.jsx(n.default,{href:"/dashboard/agents/new",children:(0,a.jsxs)(c.z,{className:"bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",children:[a.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Create an Agent"]})})]})})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(b.Z,{className:"h-7 w-7 sm:h-8 sm:w-8 text-slate-600"}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-600",children:"Dialpad"}),a.jsx("p",{className:"hidden sm:block text-muted-foreground text-sm",children:"Make outbound calls with your AI agents"})]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(d.Zb,{className:"max-w-md w-full",children:(0,a.jsxs)(d.aY,{className:"pt-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(o._,{className:"text-muted-foreground",children:"Select Agent"}),(0,a.jsxs)("div",{className:"relative",ref:A,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>O(!q),className:"flex items-center gap-3 px-3 py-2.5 text-sm border rounded-md bg-background w-full justify-between hover:bg-slate-50 transition-colors",children:[a.jsx("div",{className:"flex items-center gap-3 min-w-0",children:M?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:S(M.voice)?a.jsx(i.default,{src:S(M.voice),alt:M.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(j.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{className:"text-left min-w-0",children:[a.jsx("span",{className:"font-medium text-slate-600 block truncate",children:M.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[C(M.mode),"HYBRID"===M.mode?"Hybrid":"Outbound"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center flex-shrink-0",children:a.jsx(j.Z,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx("span",{className:"text-muted-foreground",children:"Select an agent"})]})}),a.jsx(w.Z,{className:`h-4 w-4 text-muted-foreground flex-shrink-0 transition-transform ${q?"rotate-180":""}`})]}),q&&a.jsx("div",{className:"absolute z-50 mt-1 w-full bg-white border rounded-md shadow-lg py-1 max-h-60 overflow-auto",children:t.map(e=>{let t=S(e.voice);return(0,a.jsxs)("button",{type:"button",onClick:()=>{h(e.id),O(!1)},className:`w-full flex items-center gap-3 px-3 py-2.5 text-sm hover:bg-slate-50 text-left ${e.id===m?"bg-teal-50":""}`,children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-teal-100 flex items-center justify-center overflow-hidden flex-shrink-0",children:t?a.jsx(i.default,{src:t,alt:e.name,width:40,height:40,className:"w-full h-full object-cover"}):a.jsx(j.Z,{className:"h-5 w-5 text-teal-600"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("span",{className:"font-medium text-slate-600 block truncate",children:e.name}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[C(e.mode),"HYBRID"===e.mode?"Hybrid":"Outbound"]})]})]},e.id)})})]})]}),(0,a.jsxs)("div",{className:"relative py-4",children:[a.jsx("div",{className:"h-12 flex items-center justify-center",children:p?a.jsx("span",{className:"text-3xl font-semibold text-slate-600 tracking-wide",children:p}):a.jsx("span",{className:"text-3xl text-slate-300",children:"(___) ___-____"})}),p&&a.jsx("button",{type:"button",onClick:()=>{g(E(p.replace(/\D/g,"").slice(0,-1)))},className:"absolute right-0 top-1/2 -translate-y-1/2 p-2 text-slate-400 hover:text-slate-600 transition-colors",disabled:_,children:a.jsx(N.Z,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3",children:k.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>$(e.digit),className:"flex flex-col items-center justify-center h-16 rounded-full bg-slate-100 hover:bg-slate-200 active:bg-slate-300 transition-colors",disabled:_,children:[a.jsx("span",{className:"text-xl font-semibold text-slate-600",children:e.digit}),e.letters&&a.jsx("span",{className:"text-[10px] text-slate-400 tracking-widest",children:e.letters})]},e.digit))}),M?.callWindowStart&&M?.callWindowEnd&&!R()&&a.jsx("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm text-amber-700",children:["⚠️ Outside call window (",M.callWindowStart," - ",M.callWindowEnd,")"]})}),a.jsx(c.z,{type:"button",onClick:I,className:"w-full h-14 text-lg bg-gradient-to-b from-[#0fa693] to-teal-600 hover:from-[#0e9585] hover:to-teal-700",disabled:_||H.length<10||!m,children:_?(0,a.jsxs)(a.Fragment,{children:[a.jsx(f.Z,{className:"h-5 w-5 mr-2 animate-spin"}),"Calling..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(y.Z,{className:"h-5 w-5 mr-2"}),"Call"]})})]})})})]})}},44794:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var a=s(10326),r=s(17577),l=s(51223);let i=r.forwardRef(({className:e,...t},s)=>a.jsx("label",{ref:s,className:(0,l.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));i.displayName="Label"},68575:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\roxas\OneDrive\Desktop\PROJECTS\AICallerSaaS\frontend\src\app\dashboard\dialpad\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[731,285,78,99,923],()=>s(87019));module.exports=a})();